(this["webpackJsonp@scena/react-editor"]=this["webpackJsonp@scena/react-editor"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(1),a=["memory","eventBus","keyManager","moveableData","moveableManager","historyManager","console","getViewport","getSelecto","getEditorElement","getSelectedTargets","selectMenu","getSelectedFrames"],o="scena-",i="data-scena-element-id",c="application/x-scena-layers",s='\n@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,600&display=swap");\n\n{\n    position: relative;\n    width: 100%;\n    height: 100%;\n    font-family: sans-serif;\n    --mainColor: #4af;\n    --back1: #1a1a1a;\n    --back2: #2a2a2a;\n    --back3: #333;\n    --back4: #444;\n    --back5: #555;\n    --back6: #666;\n    transform-style: preserve-3d;\n\n    --menu: 45px;\n\n    --tabs: 40px;\n    --tab: 200px;\n}\n\n[class*="scena-"] {\n    font-family: "Open Sans", sans-serif;\n}\n\n.scena-viewer {\n    position: absolute !important;\n    left: calc(30px + var(--menu));\n    top: 30px;\n    width: calc(100% - 30px - var(--menu) - var(--tabs));\n    height: calc(100% - 30px);\n}\n\n.scena-viewport-container {\n    position: relative;\n}\n.scena-viewport {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n}\n.scena-viewport:before {\n    content: "";\n    position: absolute;\n    border: 1px solid #eee;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n\n.scena-guides {\n    position: absolute !important;\n    top: 0;\n    left: 0;\n    transform: translateZ(1px);\n}\n\n.scena-guides.scena-horizontal {\n    left: calc(var(--menu) + 30px);\n    width: calc(100% - 30px - var(--menu) - var(--tabs));\n    height: 30px !important;\n}\n\n.scena-guides.scena-vertical {\n    top: 30px;\n    left: var(--menu);\n    height: calc(100% - 30px);\n    width: 30px !important;\n}\n\n.scena-reset {\n    position: absolute !important;\n    background: var(--back3);\n    width: 30px;\n    height: 30px;\n    z-index: 1;\n    border-right: 1px solid var(--back4);\n    border-bottom: 1px solid var(--back4);\n    box-sizing: border-box;\n    cursor: pointer;\n    left: var(--menu);\n    top: 0px;\n}\n\n.scena-overlay {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 100;\n    background: rgba(0, 0, 0, 0.2);\n}\n.moveable-dimension {\n    position: absolute;\n    background: var(--mainColor);\n    border-radius: 2px;\n    padding: 1px 3px;\n    color: white;\n    font-size: 13px;\n    white-space: nowrap;\n    font-weight: bold;\n    will-change: transform;\n    transform: translate(-50%) translateZ(0px);\n}\n.scena-frame-tab {\n    overflow: auto;\n    max-height: 300px;\n}\n\n.scena-overlay {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 100;\n    transform-style: preserve-3d;\n    transform: translateZ(15px);\n    background: rgba(0, 0, 0, 0.2);\n}\n\n.scena-popup {\n    position: absolute;\n    max-width: 600px;\n    width: 80%;\n    max-height: 1000px;\n    padding: 30px;\n    height: 80%;\n    overflow: auto;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 14px;\n    background: var(--back3);\n    box-sizing: border-box;\n    color: #fff;\n}\n.scena-popup h2 {\n    padding: 0;\n    margin: 0;\n    padding: 4px;\n}\n.scena-popup .scena-close {\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n}\n.scena-popup .scena-close:before, .scena-popup .scena-close:after {\n    content: "";\n    position: absolute;\n    width: 30px;\n    height: 1px;\n    background: #ddd;\n    top: 50%;\n    left: 50%;\n}\n.scena-popup .scena-close:hover:before, .scena-popup .scena-close:hover:after {\n    height: 2px;\n    background: #fff;\n    border-radius: 1px;\n}\n.scena-popup .scena-close:before {\n    transform: translate(-50%, -50%) rotate(45deg);\n}\n.scena-popup .scena-close:after {\n    transform: translate(-50%, -50%) rotate(-45deg);\n}\n.scena-popup ul {\n    list-style: none;\n    padding: 0;\n}\n.scena-popup li {\n    padding: 4px 10px;\n    border-bottom: 1px solid var(--back2);\n    font-weight: bold;;\n}\n.scena-popup li:hover {\n    background: #fff;\n    color: var(--back2);\n}\n.scena-popup p {\n    position: relative;\n    padding: 2px 0px;\n}\n.scena-popup strong {\n    position: absolute;\n    right: 0;\n    text-transform: uppercase;\n}\n.scena-popup strong span {\n    display: inline-block;\n    padding: 2px 4px;\n    border: 1px solid #fff;\n    vertical-align: top;\n    margin: 0px 5px;\n}\n\n.scena-align {\n    position: relative;\n    width: 25px;\n    height: 25px;\n    /* background: #f55; */\n    display: inline-block;\n    margin-right: 5px;\n}\n.scena-align:hover {\n    cursor: pointer;\n}\n.scena-align:hover * {\n    background: white;\n}\n.scena-align-line,\n.scena-align-element1,\n.scena-align-element2 {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    background: var(--back6);\n    transform: translate(-50%, -50%);\n}\n.scena-align-vertical .scena-align-line {\n    width: 1px;\n    height: 18px;\n}\n.scena-align-vertical .scena-align-element1 {\n    width: 10px;\n    height: 5px;\n    margin-top: -3.5px;\n}\n.scena-align-vertical .scena-align-element2 {\n    width: 14px;\n    height: 5px;\n    margin-top: 3.5px;\n}\n.scena-align-vertical.scena-align-start .scena-align-line {\n    margin-left: -7px;\n}\n.scena-align-vertical.scena-align-start .scena-align-element1 {\n    margin-left: -2px;\n}\n\n.scena-align-vertical.scena-align-end .scena-align-line {\n    margin-left: 7px;\n}\n.scena-align-vertical.scena-align-end .scena-align-element1 {\n    margin-left: 2px;\n}\n\n\n\n.scena-align-horizontal .scena-align-line {\n    height: 1px;\n    width: 18px;\n}\n.scena-align-horizontal .scena-align-element1 {\n    height: 10px;\n    width: 5px;\n    margin-left: -3.5px;\n}\n.scena-align-horizontal .scena-align-element2 {\n    height: 14px;\n    width: 5px;\n    margin-left: 3.5px;\n}\n.scena-align-horizontal.scena-align-start .scena-align-line {\n    margin-top: -7px;\n}\n.scena-align-horizontal.scena-align-start .scena-align-element1 {\n    margin-top: -2px;\n}\n\n.scena-align-horizontal.scena-align-end .scena-align-line {\n    margin-top: 7px;\n}\n.scena-align-horizontal.scena-align-end .scena-align-element1 {\n    margin-top: 2px;\n}\n',l=Object(r.createContext)(null)},113:function(e,t){},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return Et}));var r=n(27),a=n.n(r),o=n(42),i=n(3),c=n(4),s=n(41),l=n(6),u=n(5),p=n(14),d=n(1),f=n(118),h=n(77),g=n(117),v=n(9),m=n(2),b=n(0),y=n(11);var k,x,O,j,E,w=(k=y.d,x=y.c,function(e){var t=e.prototype;e.contextType=k,x.forEach((function(e){Object.defineProperty(t,e,{get:function(){return this.context[e]},set:function(){this.context[e](e)}})}))}),C=w((E=j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).keys=[],e.subContainer=d.createRef(),e.onClick=function(){e.props.selected&&e.focusSub();var t=e.props.onSelect;t&&t(e.constructor.id)},e.onSubClick=function(e){e.stopPropagation()},e.blur=function(){var t=e.subContainer.current;t&&(t.style.display="none")},e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement("div",{className:Object(m.n)("icon",this.props.selected?"selected":""),onClick:this.onClick},this.renderIcon(),this.renderSubContainer())}},{key:"renderSubContainer",value:function(){var e=this.renderSubIcons();if(e.length)return[d.createElement("div",{key:"extends-icon",className:Object(m.n)("extends-icon")}),this.props.selected&&d.createElement("div",{key:"extends-container",className:Object(m.n)("extends-container"),ref:this.subContainer,onClick:this.onSubClick},e)]}},{key:"renderSubIcons",value:function(){return[]}},{key:"renderSubIcon",value:function(e,t,n){var r=this;return d.createElement("div",{key:t,className:Object(m.n)("icon","sub-icon",n?"selected":""),onClick:function(){r.onSubSelect(t)}},d.createElement(e,{selected:!1}),d.createElement("div",{className:Object(m.n)("sub-icon-label")},Object(b.u)(" ".concat(t))))}},{key:"focusSub",value:function(){var e=this.subContainer.current;e&&("block"===e.style.display?e.style.display="none":e.style.display="block")}},{key:"onSubSelect",value:function(e){}},{key:"componentDidMount",value:function(){var e=this,t=this.keys;t.length&&this.keyManager.keydown(t,(function(t){if(t.ctrlKey||t.metaKey)return!1;e.onClick()}),this.constructor.id)}}]),n}(d.PureComponent),j.id=void 0,j.maker=void 0,j.makeThen=function(){},O=E))||O,S=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).keys=["v"],e}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 80 80"},d.createElement("path",{d:"M 21,21 L 35,60 L 40,44 L 54,58 A 3,3 0,0,0, 58,54 L 44,40 L 60,35 L 21,21Z",fill:"#222",strokeLinejoin:"round",strokeWidth:"3",stroke:"#eee",style:{transformOrigin:"42px 42px",transform:"rotate(10deg)"}}))}}]),n}(C);S.id="MoveTool";var I=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).keys=["t"],e}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 80 80"},d.createElement("g",{transform:"matrix(0.987601,0,0,0.987601,-1.97306,0.554734)"},d.createElement("path",{d:"M64.286,17.81L20.714,17.81L20.714,29.56L29.214,23L39.262,23L39.262,55.476L27.77,61.262L27.77,62.071L57.23,62.071L57.23,61.262L45.738,55.476L45.738,23L55.786,23L64.286,29.56L64.286,17.81Z",style:{fill:"white"}})))}}]),n}(C);I.id="Text",I.maker=function(e){return{tag:"div",attrs:{contenteditable:!0},style:{color:e.get("color")}}},I.makeThen=function(e){e.focus()};var M=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("ellipse",{fill:"#555",cx:"36.5",cy:"36.5",rx:"20",ry:"15",strokeLinejoin:"round",strokeWidth:"3",stroke:"#fff"}))}}]),n}(C);M.id="Oval",M.maker=function(e){return{tag:"div",attrs:{},style:{"background-color":e.get("background-color"),"border-radius":"50%"}}};var T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("path",{d:"M16.5,21.5 h40 a0,0 0 0 1 0,0 v30 a0,0 0 0 1 -0,0 h-40 a0,0 0 0 1 -0,-0 v-30 a0,0 0 0 1 0,-0 z",fill:"#555",strokeLinejoin:"round",strokeWidth:"3",stroke:"#fff"}))}}]),n}(C);T.id="Rect",T.maker=function(e){return{tag:"div",attrs:{},style:{"background-color":e.get("background-color")}}};var R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("ellipse",{fill:"#555",cx:"36.5",cy:"36.5",rx:"15",ry:"15",strokeLinejoin:"round",strokeWidth:"3",stroke:"#fff"}))}}]),n}(C);R.id="Circle",R.maker=function(e){return{tag:"div",attrs:{},style:{"background-color":e.get("background-color"),"border-radius":"50%"}}};var L=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("path",{d:"M 20,15 L 10,35 L 20,55 L 35,45 L 40, 50 L 55,31 L 41,15 L 30, 25 Z",fill:"#555",strokeLinejoin:"round",strokeWidth:"3",stroke:"#fff"}))}}]),n}(C);L.id="Polygon";var D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).keys=["c"],e}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 80 80"},d.createElement("path",{d:"M25,10L25,50L65,50   M10,25L50,25L50,65",style:{stroke:"white",strokeWidth:5,fill:"none"}}))}},{key:"renderSubIcons",value:function(){var e=this.getSelectedFrames()[0],t=this.memory.get("crop")||"inset";if(e){var n=e.get("clip-path")||e.get("clip");n&&(t=Object(b.S)(n).prefix)}return[this.renderSubIcon(T,"inset","inset"===t),this.renderSubIcon(T,"rect","rect"===t),this.renderSubIcon(R,"circle","circle"===t),this.renderSubIcon(M,"ellipse","ellipse"===t),this.renderSubIcon(L,"polygon","polygon"===t)]}},{key:"onSubSelect",value:function(e){var t=this.moveableData,n=t.getSelectedFrames()[0];if(n){var r=n.get("clip-path")||n.get("clip");if(r)if(e!==Object(b.S)(r).prefix){var a=t.removeProperties("clip-path","clip");this.historyManager.addAction("renders",{infos:a})}}this.memory.set("crop",e),this.eventBus.requestTrigger("update"),this.forceUpdate()}}]),n}(C);D.id="Crop";var z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("path",{d:"M26.5,21.5 h20 a10,10 0 0 1 10,10 v10 a10,10 0 0 1 -10,10 h-20 a10,10 0 0 1 -10,-10 v-10 a10,10 0 0 1 10,-10 z",fill:"#555",strokeLinejoin:"round",strokeWidth:"3",stroke:"#fff"}))}}]),n}(C);z.id="RoundRect",z.maker=function(e){return{tag:"div",attrs:{},style:{"background-color":e.get("background-color"),"border-radius":"10px"}}};var P=n(35),V=n(55),A=n(25);var N,B=function(){function e(t){Object(i.a)(this,e),this.console=t,this.keycon=new A.a,this.keylist=[],this.isEnable=!0}return Object(c.a)(e,[{key:"enable",value:function(){this.isEnable=!0}},{key:"disable",value:function(){this.isEnable=!1}},{key:"keydown",value:function(e,t,n){this.keycon.keydown(e,this.addCallback("keydown",e,t,n))}},{key:"keyup",value:function(e,t,n){this.keycon.keyup(e,this.addCallback("keyup",e,t,n))}},{key:"destroy",value:function(){this.keycon.destroy()}},{key:"addCallback",value:function(e,t,n,r){var a=this;return r&&this.keylist.push([t,r]),function(o){if(!a.isEnable||!function(e){var t=e.inputEvent.target;return!Object(m.c)(t)}(o))return!1;!1!==n(o)&&r&&a.console.log("".concat(e,": ").concat(t.join(" + ")),r)}}},{key:"altKey",get:function(){return this.keycon.altKey}},{key:"shiftKey",get:function(){return this.keycon.shiftKey}},{key:"metaKey",get:function(){return this.keycon.metaKey}},{key:"ctrlKey",get:function(){return this.keycon.ctrlKey}}]),e}(),F=w(N=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).overlayElement=d.createRef(),e.popupKeyManager=new B(e.console),e.onClick=function(t){t.stopPropagation(),t.target===e.overlayElement.current&&e.props.onClose()},e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement("div",{ref:this.overlayElement,className:Object(m.n)("overlay"),onClick:this.onClick},d.createElement("div",{className:Object(m.n)("popup")},d.createElement("div",{className:Object(m.n)("close"),onClick:this.props.onClose}),this.props.children))}},{key:"componentDidMount",value:function(){var e=this;this.keyManager.disable(),this.popupKeyManager.keyup(["esc"],(function(){e.props.onClose()}))}},{key:"componentWillUnmount",value:function(){this.keyManager.enable(),this.popupKeyManager.destroy()}}]),n}(d.PureComponent))||N,G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).keys=["s"],e.state={renderPopup:!1},e.onClick=function(){e.setState({renderPopup:!0})},e.onClose=function(){e.setState({renderPopup:!1})},e}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("div",{className:Object(m.n)("i")},d.createElement("div",{className:Object(m.n)("keyboard")},d.createElement("div",{className:Object(m.n)("key")}),d.createElement("div",{className:Object(m.n)("key")}),d.createElement("div",{className:Object(m.n)("key")}),d.createElement("div",{className:Object(m.n)("key")}),d.createElement("div",{className:Object(m.n)("key")}),d.createElement("div",{className:Object(m.n)("key")}),d.createElement("div",{className:Object(m.n)("key")}),d.createElement("div",{className:Object(m.n)("space")})),this.state.renderPopup&&this.renderPopup())}},{key:"renderPopup",value:function(){return V.createPortal(d.createElement(F,{onClose:this.onClose},d.createElement("h2",null,"Shortcuts"),d.createElement("ul",{className:Object(m.n)("key-list")},this.keyManager.keylist.map((function(e){var t=Object(P.a)(e,2),n=t[0],r=t[1];return d.createElement("li",{key:n.join("+")},d.createElement("p",{className:Object(m.n)("key-description")},r," ",d.createElement("strong",null,n.map((function(e){return d.createElement("span",{key:e},e)})))))})))),this.getEditorElement())}}]),n}(C);G.id="Shortcuts";var q,U,H,W=Object(v.a)("div","\n{\n    position: absolute;\n    top: 0;\n    width: var(--menu);\n    height: 100%;\n    background: var(--back2);\n    box-sizing: border-box;\n    padding: 15px 7px 0px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.scena-menu-bottom {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    padding: 15px 7px 0px;\n    width: 100%;\n    box-sizing: border-box;\n}\n\nsvg, .scena-i {\n    pointer-events: none;\n}\n\n.scena-icon {\n    position: relative;\n    display: block;\n    font-size: 0;\n    padding: 3px;\n    box-sizing: border-box;\n    cursor: pointer;\n    border: 1px solid transparent;\n    margin-bottom: 5px;\n    border-radius: 3px;\n    transition: all ease 0.2s;\n}\n\n.scena-selected {\n    background: var(--mainColor);\n    border-color: var(--back1);\n}\n\n.scena-icon.scena-selected>svg path,\n.scena-icon.scena-selected>svg ellipse,\n.scena-sub-icon.scena-selected path,\n.scena-sub-icon.scena-selected ellipse {\n    fill: #fff;\n    stroke: #fff;\n}\n\n.scena-icon .scena-extends-icon {\n    position: absolute;\n    right: 2px;\n    bottom: 2px;\n    border-bottom: 5px solid #eee;\n    border-right: 0;\n    border-left: 5px solid transparent;\n}\n\n.scena-extends-container {\n    position: absolute;\n    left: 110%;\n    top: -30px;\n    background: var(--back2);\n    /* width: 200px;\n    height: 200px; */\n    border-radius: 5px;\n    z-index: 1;\n    transform: translate(10px) translateZ(2px);\n    box-shadow: 1px 1px 2px var(--back1);\n    display: none;\n}\n\n.scena-sub-icon {\n    white-space: nowrap;\n    padding: 0px 7px;\n    margin: 7px 10px;\n}\n\n.scena-sub-icon .scena-icon {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    width: 25px;\n    height: 25px;\n    margin: 0;\n}\n\n.scena-sub-icon-label {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    color: white;\n    font-size: 14px;\n    font-weight: bold;\n    padding: 0;\n    margin: 0;\n    margin-left: 5px;\n}\n\n\n.scena-keyboard {\n    background: #fff;\n    border-radius: 3px;\n    width: 90%;\n    height: 15px;\n    margin: 3px 0px 7px;\n    text-align: center;\n    box-sizing: border-box;\n    padding: 2px;\n}\n\n.scena-key {\n    display: inline-block;\n    width: 2px;\n    height: 2px;\n    background: var(--back2);\n    margin: 1px;\n}\n.scena-space {\n    display: inline-block;\n    width: 12px;\n    height: 2px;\n    background: var(--back2);\n    margin: 1px;\n    border-radius: 1px;\n}\n"),K=[S,I,D,T,z,M],X=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={selected:"MoveTool"},e.menuRefs=[],e.select=function(t){e.setState({selected:t}),e.props.onSelect(t)},e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement(W,{className:Object(m.n)("menu")},this.renderMenus(),d.createElement("div",{className:Object(m.n)("menu-bottom")},d.createElement(G,null)))}},{key:"renderMenus",value:function(){var e=this,t=this.state.selected,n=this.menuRefs;return K.map((function(r,a){var o=r.id;return n[a]||(n[a]=d.createRef()),d.createElement(r,{ref:n[a],key:o,selected:t===o,onSelect:e.select})}))}},{key:"getSelected",value:function(){var e=this.state.selected;return K.filter((function(t){return t.id===e}))[0]}},{key:"blur",value:function(){this.menuRefs.forEach((function(e){e.current&&e.current.blur()}))}}]),n}(d.PureComponent),J=n(13),Z=n(33),Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).components={},e.jsxs={},e.viewport={jsx:d.createElement("div",null),name:"Viewport",id:"viewport",children:[]},e.ids={viewport:e.viewport},e.state={},e.viewportRef=d.createRef(),e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.style;return d.createElement("div",{className:Object(m.n)("viewport-container"),onBlur:this.props.onBlur,style:e},this.props.children,d.createElement("div",Object.assign({className:Object(m.n)("viewport")},Object(Z.a)({},y.a,"viewport"),{ref:this.viewportRef}),this.renderChildren(this.getViewportInfos())))}},{key:"componentDidMount",value:function(){this.ids.viewport.el=this.viewportRef.current}},{key:"renderChildren",value:function(e){var t=this;return e.map((function(e){var n=e.jsx,r=e.children,a=t.renderChildren(r),o=e.id,i={key:o};if(Object(b.L)(n))return i[y.a]=o,d.createElement.apply(d,[n,i].concat(Object(J.a)(a)));if(Object(m.k)(n))return i.scenaElementId=o,i.scenaAttrs=e.attrs||{},i.scenaText=e.innerText,i.scenaHTML=e.innerHTML,d.createElement(n,i);Object(b.L)(n.type)?i[y.a]=o:(i.scenaElementId=o,i.scenaAttrs=e.attrs||{},i.scenaText=e.innerText,i.scenaHTML=e.innerHTML);var c=n.props.children;return d.cloneElement.apply(d,[n,Object(p.a)(Object(p.a)({},n.props),i)].concat(Object(J.a)(Object(b.H)(c)?c:[c]),Object(J.a)(t.renderChildren(r))))}))}},{key:"getJSX",value:function(e){return this.jsxs[e]}},{key:"getComponent",value:function(e){return this.components[e]}},{key:"makeId",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.ids;;){var t="scena".concat(Math.floor(1e8*Math.random()));if(!e[t])return t}}},{key:"setInfo",value:function(e,t){this.ids[e]=t}},{key:"getInfo",value:function(e){return this.ids[e]}},{key:"getLastChildInfo",value:function(e){var t=this.getInfo(e).children;return t[t.length-1]}},{key:"getNextInfo",value:function(e){var t=this.getInfo(e),n=this.getInfo(t.scopeId).children,r=n.indexOf(t);return n[r+1]}},{key:"getPrevInfo",value:function(e){var t=this.getInfo(e),n=this.getInfo(t.scopeId).children,r=n.indexOf(t);return n[r-1]}},{key:"getInfoByElement",value:function(e){return this.ids[Object(m.e)(e)]}},{key:"getInfoByIndexes",value:function(e){return e.reduce((function(e,t){return e.children[t]}),this.viewport)}},{key:"getElement",value:function(e){var t=this.getInfo(e);return t?t.el:null}},{key:"getViewportInfos",value:function(){return this.viewport.children}},{key:"getIndexes",value:function(e){var t=Object(b.L)(e)?this.getInfo(e):this.getInfoByElement(e);if(!t.scopeId)return[];var n=this.getInfo(t.scopeId);return[].concat(Object(J.a)(this.getIndexes(t.scopeId)),[n.children.indexOf(t)])}},{key:"registerChildren",value:function(e,t){var n=this;return e.map((function(e){var r=e.id||n.makeId(),a=e.jsx,o=e.children||[],i=t||e.scopeId||"viewport",c="";Object(m.j)(a)&&(c=n.makeId(n.jsxs),n.jsxs[c]=a);var s=Object(p.a)(Object(p.a)({},e),{},{jsx:a,children:n.registerChildren(o,r),scopeId:i,componentId:"",jsxId:c,frame:e.frame||{},el:null,id:r});return n.setInfo(r,s),s}))}},{key:"appendJSXs",value:function(e,t,n){var r=this,a=this.registerChildren(e,n);return a.forEach((function(e,a){var o=r.getInfo(n||e.scopeId).children;t>-1?(o.splice(t+a,0,e),e.index=t+a):Object(b.J)(e.index)?o.splice(e.index,0,e):(e.index=o.length,o.push(e))})),new Promise((function(e){r.forceUpdate((function(){e({added:Object(m.p)(a)})}))}))}},{key:"getIndex",value:function(e){var t=this.getIndexes(e),n=t.length;return n?t[n-1]:-1}},{key:"getElements",value:function(e){var t=this;return e.map((function(e){return t.getElement(e)})).filter((function(e){return e}))}},{key:"unregisterChildren",value:function(e,t){var n=this,r=this.ids;return e.slice(0).map((function(e){var a=e.el,o="",i="";if(e.attrs.contenteditable?o=a.innerText:i=a.innerHTML,!t){var c=n.getInfo(e.scopeId),s=c.children.indexOf(e);c.children.splice(s,1)}var l=n.unregisterChildren(e.children,!0);return delete r[e.id],delete e.el,Object(p.a)(Object(p.a)({},e),{},{innerText:o,innerHTML:i,attrs:Object(m.i)(a),children:l})}))}},{key:"removeTargets",value:function(e){var t=this,n=this.getSortedTargets(e).map((function(e){return t.getInfoByElement(e)})).filter((function(e){return e})),r=n.map((function(e){return t.getIndex(e.id)})),a=this.unregisterChildren(n);return a.forEach((function(e,t){e.index=r[t]})),new Promise((function(e){t.forceUpdate((function(){e({removed:a})}))}))}},{key:"getSortedIndexesList",value:function(e){var t=this,n=e.map((function(e){return Array.isArray(e)?e:t.getIndexes(e)}));return n.sort((function(e,t){for(var n=e.length,r=t.length,a=Math.min(n,r),o=0;o<a;++o)if(e[o]!==t[o])return e[o]-t[o];return n-r})),n}},{key:"getSortedTargets",value:function(e){return this.getSortedInfos(e).map((function(e){return e.el}))}},{key:"getSortedInfos",value:function(e){var t=this;return this.getSortedIndexesList(e).map((function(e){return t.getInfoByIndexes(e)}))}},{key:"moveInside",value:function(e){var t,n=Object(b.L)(e)?this.getInfo(e):this.getInfoByElement(e),r=this.getPrevInfo(n.id);t=!r||Object(m.k)(r.jsx)||Object(m.l)(r.jsx)?[]:[n];var a=r&&this.getLastChildInfo(r.id);return this.move(t,r,a)}},{key:"moveOutside",value:function(e){var t=Object(b.L)(e)?this.getInfo(e):this.getInfoByElement(e),n=this.getInfo(t.scopeId),r=this.getInfo(n.scopeId),a=r?[t]:[];return this.move(a,r,n)}},{key:"moves",value:function(e){var t=this,n=this.viewportRef.current,r=e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{moveMatrix:Object(m.g)(e.info.el,n)})})),a=r.map((function(e){var n=e.info;e.moveMatrix;return{info:n,parentInfo:t.getInfo(n.scopeId),prevInfo:t.getPrevInfo(n.id)}}));return r.forEach((function(e){var n=e.info,r=e.parentInfo,a=e.prevInfo,o=t.getInfo(n.scopeId).children;o.splice(o.indexOf(n),1);var i=r.children;i.splice(a?i.indexOf(a)+1:0,0,n),n.scopeId=r.id})),new Promise((function(e){var n=r.map((function(e){return e.info}));t.forceUpdate((function(){Object(m.p)(n),e({prevInfos:a,nextInfos:r})}))}))}},{key:"move",value:function(e,t,n){var r=this.getSortedInfos(e.map((function(e){return e.el})));return this.moves(r.map((function(e,a){return{info:e,parentInfo:t,prevInfo:0===a?n:r[a-1]}})))}}]),n}(d.PureComponent),_=w((H=U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).title=void 0,e.eventList=[],e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement("div",{className:Object(m.n)("tab-popup")},d.createElement("h2",null,this.title),this.renderTab())}},{key:"addEvent",value:function(e,t){this.eventList.push([e,t]),this.eventBus.on(e,t)}},{key:"getMoveable",value:function(){return this.moveableManager.current.getMoveable()}},{key:"componentWillUnmount",value:function(){var e=this.eventBus;this.eventList.forEach((function(t){var n=Object(P.a)(t,2),r=n[0],a=n[1];e.off(r,a)}))}}]),n}(d.PureComponent),U.id=void 0,U.icon=void 0,q=H))||q,Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).input=d.createRef(),e}return Object(c.a)(n,[{key:"getValue",value:function(){}},{key:"getElement",value:function(){return this.input.current.getElement()}},{key:"setValue",value:function(e){}},{key:"componentDidMount",value:function(){var e=this.props;e.updateValue&&this.setValue(e.value)}},{key:"componentDidUpdate",value:function(){var e=this.props;e.updateValue&&this.setValue(e.value)}}]),n}(d.PureComponent),$=Object(v.a)("input","\n{\n    position: relative;\n    text-align: left;\n    appearance: none;\n    -webkit-appearance: none;\n    outline: none;\n    display: block;\n    width: 100%;\n    height: 30px;\n    background: transparent;\n    color: var(--mainColor);\n    font-weight: bold;\n    background: none;\n    border: 0;\n    padding: 5px;\n    box-sizing: border-box;\n    background: var(--back1);\n    font-size: 12px;\n}\n"),ee=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputAttributes={},e.onInput=function(t){var n=t.nativeEvent||t;Object(b.M)(n.data)&&e.props.onChange(e.getElement().value)},e.onKeyDown=function(e){e.stopPropagation()},e.onKeyUp=function(t){var n=t.currentTarget;t.stopPropagation(),"enter"===Object(A.c)(t.keyCode)&&e.props.onChange(n.value)},e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement($,Object.assign({ref:this.input,className:Object(m.n)("input")},this.inputAttributes,this.props.inputProps,{onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}))}},{key:"getValue",value:function(){return this.getElement().value}},{key:"setValue",value:function(e){this.getElement().value="".concat(Object(b.M)(e)?"":e)}}]),n}(Q),te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputAttributes={type:"number",min:0,step:.1,pattern:"[0-9.]*"},e}return n}(ee),ne=Object(v.a)("div","\n{\n    position: relative;\n    box-sizing: border-box;\n    padding: 2px;\n    display: inline-block;\n    vertical-align: top;\n}\nh3, h4 {\n    color: white;\n    margin: 0;\n    padding: 7px 5px;\n    font-size: 12px;\n    font-weight: bold;\n    display: inline-block;\n}\nh4 {\n    font-size: 11px;\n}\n:host.scena-full {\n    width: 100%;\n}\n:host.scena-half {\n    width: 50%;\n}\n:host.scena-third {\n    width: 33%;\n}\n:host.scena-twothird {\n    width: 66%;\n}\n:host.scena-half:nth-child(2n + 1) {\n    padding-right: 5px;\n}\n:host.scena-half:nth-child(2n + 2) {\n    padding-left: 5px;\n}\n"),re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).input=d.createRef(),e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.type,r=e.props,a=void 0===r?{}:r,o=e.inputProps,i=void 0===o?{}:o,c=e.input,s=e.onChange,l=e.value,u=e.updateValue;return d.createElement(ne,{className:Object(m.n)("tab-input",n)},t&&d.createElement("h3",null,t),d.createElement(c,Object.assign({ref:this.input,onChange:s},a,{inputProps:i,value:l,updateValue:u})))}},{key:"setValue",value:function(e){this.input.current.setValue(e)}},{key:"getValue",value:function(){return this.input.current.getValue()}}]),n}(d.PureComponent),ae=Object(v.a)("div",'\n{\n    position: relative;\n    width: 30px;\n    height: 35px;\n    margin: auto;\n    box-sizing: border-box;\n}\n.scena-anchor-input-background {\n    position: relative;\n    width: 30px;\n    height: 30px;\n    background: var(--back1);\n}\n.scena-anchor-control {\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    transform: translate(-50%, -50%);\n    left: 50%;\n    top: 50%;\n    padding: 1px;\n    box-sizing: border-box;\n}\n.scena-anchor-control:before {\n    content: "";\n    position: relative;\n    display: block;\n    background: var(--back5);\n    width: 100%;\n    height: 100%;\n}\n.scena-anchor-control.scena-anchor-selected {\n    padding: 0px;\n}\n.scena-anchor-control.scena-anchor-selected:before {\n    background: white;\n}\n\n.scena-anchor-control.scena-anchor-n {\n    top: 0;\n}\n.scena-anchor-control.scena-anchor-s {\n    top: 100%;\n}\n.scena-anchor-control.scena-anchor-w {\n    left: 0;\n}\n.scena-anchor-control.scena-anchor-e {\n    left: 100%;\n}\n\n'),oe=["w","","e"],ie=["n","","s"],ce=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputAttributes={},e.state={origin:[50,50]},e.onClick=function(t){var n=t.target.getAttribute("data-anchor-index");if(n){var r=n.split(",").map((function(e){return 50*parseFloat(e)}));e.props.onChange(r)}},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state.origin.map((function(e){return Math.min(100,Math.max(0,50*Math.round(e/50)))}));return d.createElement(ae,{className:Object(m.n)("anchor-input")},d.createElement("div",{className:Object(m.n)("anchor-input-background"),onClick:this.onClick},ie.map((function(t,n){return oe.map((function(r,a){var o=[];return t&&o.push("anchor-".concat(t)),r&&o.push("anchor-".concat(r)),e[0]===50*a&&e[1]===50*n&&o.push("anchor-selected"),d.createElement("div",{key:"dir".concat(r,"-").concat(t),className:m.n.apply(void 0,["anchor-control"].concat(o)),"data-anchor-index":"".concat(a,",").concat(n)})}))}))))}},{key:"setValue",value:function(e){this.setState({origin:e})}},{key:"getValue",value:function(){return this.state.origin}}]),n}(Q),se=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 80 80"},d.createElement("rect",{x:"20",y:"20",width:"40",height:"40",stroke:"#fff",strokeWidth:"3",fill:"rgba(255, 255, 255, 0.5)"}),d.createElement("rect",{x:"15",y:"15",width:"10",height:"10",fill:"#fff"}),d.createElement("rect",{x:"35",y:"15",width:"10",height:"10",fill:"#fff"}),d.createElement("rect",{x:"55",y:"15",width:"10",height:"10",fill:"#fff"}),d.createElement("rect",{x:"15",y:"35",width:"10",height:"10",fill:"#fff"}),d.createElement("rect",{x:"55",y:"35",width:"10",height:"10",fill:"#fff"}),d.createElement("rect",{x:"15",y:"55",width:"10",height:"10",fill:"#fff"}),d.createElement("rect",{x:"35",y:"55",width:"10",height:"10",fill:"#fff"}),d.createElement("rect",{x:"55",y:"55",width:"10",height:"10",fill:"#fff"}))}}]),n}(C);se.id="Transform";var le={step:1},ue=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).title="Transform",e.xInput=d.createRef(),e.yInput=d.createRef(),e.wInput=d.createRef(),e.hInput=d.createRef(),e.oInput=d.createRef(),e.rInput=d.createRef(),e.onChangeRotate=function(t){var n=parseFloat(t);e.getMoveable().request("rotatable",{rotate:n,isInstant:!0})},e.onChangePos=function(){var t=parseFloat(e.xInput.current.getValue()),n=parseFloat(e.yInput.current.getValue());e.getMoveable().request("draggable",{x:t,y:n,isInstant:!0})},e.onChangeOrigin=function(t){var n=e.getMoveable().getRect(),r=n.offsetWidth*t[0]/100,a=n.offsetHeight*t[1]/100;e.getMoveable().request("originDraggable",{origin:[r,a]},!0)},e.onChangeSize=function(){var t=parseFloat(e.wInput.current.getValue()),n=parseFloat(e.hInput.current.getValue());e.getMoveable().request("resizable",{offsetWidth:t,offsetHeight:n,isInstant:!0})},e.onRender=function(){var t=e.getMoveable().getRect();e.xInput.current.setValue(t.left),e.yInput.current.setValue(t.top),e.wInput.current.setValue(t.offsetWidth),e.hInput.current.setValue(t.offsetHeight),e.rInput.current.setValue(Math.round(t.rotation));var n=t.transformOrigin;e.oInput.current.setValue([n[0]/t.offsetWidth*100,n[1]/t.offsetHeight*100])},e}return Object(c.a)(n,[{key:"renderTab",value:function(){return d.createElement("div",{className:Object(m.n)("transform-tab")},d.createElement("div",{className:Object(m.n)("tab-line")},d.createElement(re,{ref:this.oInput,type:"half",label:"Anchor",input:ce,onChange:this.onChangeOrigin}),d.createElement(re,{ref:this.rInput,type:"half",label:"Rotation",input:te,onChange:this.onChangeRotate})),d.createElement("div",{className:Object(m.n)("tab-line")},d.createElement(re,{ref:this.xInput,type:"half",label:"X",input:te,onChange:this.onChangePos}),d.createElement(re,{ref:this.yInput,type:"half",label:"Y",input:te,onChange:this.onChangePos})),d.createElement("div",{className:Object(m.n)("tab-line")},d.createElement(re,{ref:this.wInput,type:"half",label:"W",input:te,inputProps:le,onChange:this.onChangeSize}),d.createElement(re,{ref:this.hInput,type:"half",label:"H",input:te,inputProps:le,onChange:this.onChangeSize})))}},{key:"componentDidMount",value:function(){this.addEvent("render",this.onRender),this.addEvent("renderGroup",this.onRender),this.addEvent("setSelectedTargets",this.onRender),this.onRender()}}]),n}(_);ue.id="Transform",ue.icon=se;var pe=n(57),de=Object(v.a)("div",'\n.scena-fold-icon {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    width: 10px;\n    height: 20px;\n}\n.scena-fold-icon:before {\n    content: "";\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    border-top: 4px solid #fff;\n    border-left: 3px solid transparent;\n    border-right: 3px solid transparent;\n}\n.scena-fold-icon.scena-fold:before {\n    border-right: 0;\n    border-left: 4px solid #fff;\n    border-top: 3px solid transparent;\n    border-bottom: 3px solid transparent;\n}\n{\n    position: relative;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    --file-padding: 10px;\n}\n.scena-folder .scena-properties {\n    margin-left: var(--file-padding);\n}\n.scena-file {\n    position: relative;\n    box-sizing: border-box;\n    padding: 2px;\n    display: inline-block;\n    vertical-align: top;\n    border-bottom: 1px solid var(--back1);\n    width: 100%;\n}\n.scena-file h3 {\n    color: white;\n    margin: 0;\n    padding: 7px 5px;\n    font-size: 12px;\n    font-weight: bold;\n    display: inline-block;\n}\n.scena-shadows {\n    position: absolute;\n    pointer-events: none;\n    transition: translateY(-50%);\n    opacity: 0.5;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 10;\n    display: none;\n}\n.scena-file.scena-selected {\n    background: var(--mainColor);\n}\n.scena-file:before {\n    position: absolute;\n    left: calc(var(--file-padding) * var(--pointer-depth));\n    width: 100%;\n    height: 2px;\n    background: #48f;\n    transform: translateY(-50%);\n}\n.scena-file.scena-bottom-pointer:before {\n    content: "";\n    top: 100%;\n}\n.scena-file.scena-top-pointer:before {\n    content: "";\n    top: 0%;\n}\n');function fe(e){for(;e&&!e.hasAttribute("data-file-key");)e=e.parentElement;return e}var he=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).moveGesto=void 0,e.folderRef=d.createRef(),e.shadowRef=d.createRef(),e.state={fold:!1,shadows:[]},e.onClickFold=function(t){t.stopPropagation(),e.setState({fold:!e.state.fold})},e.onClick=function(t){var n=t.currentTarget.getAttribute("data-file-key"),r=e.props,a=r.multiselect,o=r.onSelect,i=r.selected;if(a){var c=(i||[]).slice(),s=c.indexOf(n);A.a.global.shiftKey?s>-1?c.splice(s,1):c.push(n):c=[n],o(c)}else o([n])},e.onDragStart=function(t){if(Object(b.G)(t.inputEvent.target,Object(m.n)("fold-icon")))return t.stop(),!1;var n=e.folderRef.current.getElement().getBoundingClientRect(),r=t.datas,a=t.clientX-n.left;r.offsetX=a,r.folderRect=n,r.folderLine=n.left+n.width-10,r.objMap=e.flatMap(),t.inputEvent.preventDefault(),t.inputEvent.stopPropagation()},e.onDrag=function(t){var n=e.folderRef.current.getElement(),r=t.clientX,a=t.clientY,o=t.datas;e.clearPointers(),o.prevInfo=null,o.isTop=!1;var i=e.props.selected,c=o.objMap;if(!o.dragFirst){o.dragFirst=!0;var s=fe(t.inputEvent.target);if(s&&-1===i.indexOf(s.getAttribute("data-file-key")))return void e.onClick({currentTarget:s})}if(i&&i.length){var l=i.map((function(e){return c[e]}));if(e.state.shadows.length){e.updateShadowPosition(o.folderRect,t);var u=fe(document.elementFromPoint(o.folderLine,t.clientY));if(u){var p=e.flatChildren(),d=u.getBoundingClientRect(),f=d.top+d.height/2>a,h=u.getAttribute("data-file-key"),g=Object(b.A)(p,(function(e){return e.fullId===h})),v=p[g],y=p[g-1];if(y&&f){if(v=p[--g],y=p[g-1],h=v.fullId,!(u=n.querySelector('[data-file-key="'.concat(h,'"]'))))return;d=u.getBoundingClientRect(),f=!1}var k=p[g+1],x=v.depth,O=k?k.depth:0,j=[Math.min(O,x)-x,Math.max(x+1,O)-x],E=r-d.left,w=f?0:Object(m.a)(Math.round((E>0?.2*E:E)/10),j[0],j[1]);if(!(k&&!f&&i.indexOf(k.fullId)>-1&&x+w===O)&&!e.contains(i,h)&&!(i.indexOf(h)>-1&&w>=0)){var C=e.props,S=C.isMoveChildren,I=C.checkMove;if(S){var M=v.scope,T=[].concat(Object(J.a)(v.scope),[v.id]);if(l.every((function(e){return e.scope.every((function(e,t){return e===M[t]}))})))w=0;else{if(!l.every((function(e){return e.scope.every((function(e,t){return e===T[t]}))})))return;w=1}}else w>0&&!I(v)&&(w=0);u.style.setProperty("--pointer-depth","".concat(w)),u.classList.add(Object(m.n)(f?"top-pointer":"bottom-pointer")),o.depth=w,o.isTop=f,o.prevInfo=v}}}else e.setState({shadows:l},(function(){e.updateShadowPosition(o.folderRect,t)}))}},e.onDragEnd=function(t){if(e.clearPointers(),t.isDrag){var n,r=t.datas,a=r.depth,o=r.prevInfo,i=r.isTop,c=e.props.onMove,s=r.objMap,l=(e.props.selected||[]).map((function(e){return s[e]}));if(o)if(a<=0){for(var u=Math.abs(a),p=0;p<u;++p)o=s[o.parentId];n=s[o.parentId]}else n=o,o=void 0;!n&&i?c(l):(n||o)&&c(l,n,o),e.setState({shadows:[]},(function(){e.shadowRef.current.style.cssText="display: none"}))}else{var d=fe(t.inputEvent.target);d&&e.onClick({currentTarget:d})}},e}return Object(c.a)(n,[{key:"isSelected",value:function(e){var t=this.props.selected;return t&&t.indexOf(e)>-1}},{key:"render",value:function(){var e=this.props,t=e.scope,n=e.name,r=e.getFullId,a=t.length?r(t[t.length-1],t.slice(0,-1)):"";return d.createElement(de,{className:Object(m.n)("folder"),ref:this.folderRef},n&&d.createElement("div",{className:Object(m.n)("file",this.isSelected(a)?"selected":""),"data-file-key":a,onClick:this.onClick},d.createElement("div",{className:Object(m.n)("fold-icon",this.state.fold?"fold":""),onClick:this.onClickFold}),d.createElement("h3",null,n)),d.createElement("div",{className:Object(m.n)("properties")},this.renderProperties()),this.renderShadows())}},{key:"componentDidMount",value:function(){if(this.props.isMove){var e=this.folderRef.current.getElement();this.moveGesto=new pe.a(e,{container:window,checkInput:!0}).on("dragStart",this.onDragStart).on("drag",this.onDrag).on("dragEnd",this.onDragEnd)}}},{key:"componentWillUnmount",value:function(){this.moveGesto&&this.moveGesto.unset()}},{key:"renderProperties",value:function(){var e=this,t=this.props,r=t.scope,a=t.properties,o=t.selected,i=t.multiselect,c=t.onSelect,s=t.getFullId,l=t.FileComponent,u=t.isMove,p=t.getId,f=t.getName,h=t.getChildren;if(!this.state.fold)return Object.keys(a).map((function(t){var g=a[t],v=f(g,t),y=r.slice(),k=p(g,t),x=s(k,y);y.push(k);var O=h(g,t,r);return O&&(Object(b.H)(O)?O.length:Object(b.K)(O))?d.createElement(n,{key:x,name:v,scope:y,properties:O,multiselect:i,getId:p,getName:f,getFullId:s,getChildren:h,selected:o,onSelect:u?void 0:c,FileComponent:l}):d.createElement("div",{key:x,className:Object(m.n)("file",e.isSelected(x)?"selected":""),"data-file-key":x,onClick:u?void 0:e.onClick},d.createElement(l,{scope:y,name:v,value:g,fullId:x}))}))}},{key:"renderShadows",value:function(){var e=this.props,t=e.FileComponent,n=e.getName;if(!e.scope.length)return d.createElement("div",{className:Object(m.n)("shadows"),ref:this.shadowRef},this.state.shadows.map((function(e){var r=e.scope,a=e.value,o=e.fullId,i=e.id,c=n(a,i);return d.createElement("div",{key:o,className:Object(m.n)("file","selected","shadow")},d.createElement(t,{scope:r,name:c,value:a,fullId:o}))})))}},{key:"updateShadowPosition",value:function(e,t){var n=this.shadowRef.current;if(n&&this.state.shadows.length){var r=t.datas;n.style.cssText="display: block; transform: translate(".concat(t.clientX-e.left-r.offsetX,"px, ").concat(t.clientY-e.top,"px) translateY(-50%)")}}},{key:"contains",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.flatMap(),r=n[t],a=r.parentId;return!!a&&(e.indexOf(a)>-1||this.contains(e,a,n))}},{key:"flatMap",value:function(){var e=this.flatChildren(),t={};return e.forEach((function(e){t[e.fullId]=e})),t}},{key:"flatChildren",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.properties,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Object.keys(t),i=this.props,c=i.getFullId,s=i.getId,l=i.getChildren,u=r.length;return o.forEach((function(o){var i=t[o],p=r.slice(),d=s(i,o),f=c(d,p);p.push(d);var h=l(i,o,r);a.push({id:d,fullId:f,parentId:n,depth:u,scope:r,value:i}),h&&(Object(b.H)(h)?h.length:Object(b.K)(h))&&e.flatChildren(h,f,p,a)})),a}},{key:"clearPointers",value:function(){[].slice.call(document.querySelectorAll(".scena-top-pointer, .scena-bottom-pointer")).forEach((function(e){var t=e.classList;t.remove(Object(m.n)("top-pointer")),t.remove(Object(m.n)("bottom-pointer"))}))}}]),n}(d.PureComponent);he.defaultProps={selected:[],onMove:function(){},checkMove:function(){return!0},onSelect:function(){},getFullId:function(e,t){return[].concat(Object(J.a)(t),[e]).join("///")},getId:function(e,t,n){return t},getName:function(e,t){return t},getChildren:function(e){return e}};var ge=Object(v.a)("div","\n{\n    position: relative;\n    box-sizing: border-box;\n    padding: 2px;\n    display: inline-block;\n    vertical-align: top;\n}\nh3 {\n    color: white;\n    margin: 0;\n    padding: 7px 5px;\n    font-size: 12px;\n    font-weight: bold;\n    display: inline-block;\n}\n:host.scena-full {\n    width: 100%;\n}\n:host.scena-half {\n    width: 50%;\n}\n:host.scena-third {\n    width: 33%;\n}\n:host.scena-twothird {\n    width: 66%;\n}\n:host.scena-half:nth-child(2n + 1) {\n    padding-right: 5px;\n}\n:host.scena-half:nth-child(2n + 2) {\n    padding-left: 5px;\n}\n"),ve=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.type;return d.createElement(ge,{className:Object(m.n)("label",n)},d.createElement("h3",null,t))}}]),n}(d.PureComponent),me=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(d.PureComponent),be=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onChange=function(t){var n=e.props;(0,n.onChange)(n.scope,t)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value;return d.createElement(d.Fragment,null,d.createElement(ve,{type:"third",label:t}),d.createElement(re,{type:"twothird",input:ee,value:n,updateValue:!0,onChange:this.onChange}))}}]),n}(me),ye=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 80 80"},d.createElement("g",{transform:"matrix(1.18519,0,0,2.42309,-7.4076,-21.5629)"},d.createElement("rect",{x:"13",y:"17",width:"54",height:"2",fill:"white"})),d.createElement("g",{transform:"matrix(1.18519,0,0,2.42309,-7.40741,14.3317)"},d.createElement("rect",{x:"13",y:"17",width:"54",height:"2",fill:"white"})),d.createElement("g",{transform:"matrix(1.03519,0,0,1.31422,37.8389,-2.71207)"},d.createElement("rect",{x:"13",y:"25",width:"20",height:"15",fill:"white"})),d.createElement("g",{transform:"matrix(1.03519,0,0,1.31422,11.7648,-2.71207)"},d.createElement("rect",{x:"13",y:"25",width:"20",height:"15",fill:"white"})),d.createElement("g",{transform:"matrix(0.592593,0,0,1.31422,0.296296,-2.71207)"},d.createElement("rect",{x:"13",y:"25",width:"20",height:"15",fill:"white"})))}}]),n}(C);ye.id="Frame";var ke=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).title="Frame",e.state={selected:[]},e.renderProperty=function(t){var n=t.name,r=t.fullId,a=t.scope,o=e.getSelectedFrames()[0];return d.createElement(be,{name:n,fullId:r,scope:a,value:o.get.apply(o,Object(J.a)(r.split("///"))),onChange:e.onChange})},e.onSelect=function(t){e.setState({selected:t})},e.onMove=function(t,n,r){var a=n?[].concat(Object(J.a)(n.scope),[n.id]):[],o=(e.getSelectedFrames()[0].getOrders(a)||[]).slice(),i=t[0].id,c=o.indexOf(i);if(-1!==c&&o.splice(c,1),r){var s=o.indexOf(r.id);-1===s?o.push(i):o.splice(s+1,0,i)}else o.splice(0,0,i);e.context.setOrders(a,o,!0)},e.onChange=function(t,n){e.getSelectedFrames().length&&e.context.setProperty(t,n,!0)},e.onRender=function(){e.forceUpdate()},e.setTargets=function(){e.state.selected=[],e.forceUpdate()},e}return Object(c.a)(n,[{key:"renderTab",value:function(){var e=this.state.selected,t=this.getSelectedFrames()[0];if(t)return d.createElement("div",{className:Object(m.n)("frame-tab")},d.createElement(he,{name:"",properties:t.getOrders([])||[],getId:function(e){return e},getName:function(e){return e},getChildren:function(e,n,r){return t.getOrders([].concat(Object(J.a)(r),[e]))||[]},scope:[],selected:e,isMove:!0,isMoveChildren:!0,checkMove:function(){return!1},onMove:this.onMove,onSelect:this.onSelect,FileComponent:this.renderProperty}))}},{key:"componentDidMount",value:function(){this.addEvent("render",this.onRender),this.addEvent("setSelectedTargets",this.setTargets)}}]),n}(_);ke.id="Frame",ke.icon=ye;var xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onClick=function(){var t=e.props,n=t.type,r=t.direction;(0,t.onClick)(n,r)},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.direction;return d.createElement("div",{className:Object(m.n)("align","align-".concat(t),"align-".concat(n)),onClick:this.onClick},d.createElement("div",{className:Object(m.n)("align-line")}),d.createElement("div",{className:Object(m.n)("align-element1")}),d.createElement("div",{className:Object(m.n)("align-element2")}))}}]),n}(d.PureComponent),Oe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("rect",{x:"15",y:"16",width:"36",height:"6",rx:"3",fill:"#fff"}),d.createElement("rect",{x:"15",y:"35",width:"26",height:"6",rx:"3",fill:"#fff"}),d.createElement("rect",{x:"15",y:"54",width:"46",height:"6",rx:"3",fill:"#fff"}))}}]),n}(C);Oe.id="Align";var je=["vertical","horizontal"],Ee=["start","center","end"];function we(e,t,n){var r,a;return"horizontal"===e?(r=n.height,a=n.top):(r=n.width,a=n.left),"start"===t?a:"center"===t?a+r/2:a+r}var Ce=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).title="Align",e.onClick=function(t,n){var r=e.getMoveable();if(r.moveable){var a=r.moveable.moveables,o=r.getRect(),i=we(t,n,o);if(a){var c=a.map((function(r){var a=r.state.target,o=e.moveableData.getFrame(a);if(o){var c=o.get(),s=r.getRect(),l=we(t,n,s),u=i-l,p=o.get("transform","translate").split(",").map((function(e){return parseFloat(e)}));return p["horizontal"===t?1:0]+=u,o.set("transform","translate",p.map((function(e){return"".concat(e,"px")})).join(", ")),{id:Object(m.e)(a),prev:c,next:o.get()}}return!1})).filter((function(e){return e}));e.historyManager.addAction("renders",{infos:c}),e.moveableData.renderFrames(),r.updateRect()}else{var s=we(t,n,{width:400,height:600,left:0,top:0}),l=i-s;r.request("draggable",Object(Z.a)({},"horizontal"===t?"deltaY":"deltaX",-l),!0)}}},e}return Object(c.a)(n,[{key:"renderTab",value:function(){var e=this;return d.createElement("div",{className:Object(m.n)("align-tab")},je.map((function(t){return Ee.map((function(n){return d.createElement(xe,{key:"".concat(t,"-").concat(n),type:t,direction:n,onClick:e.onClick})}))})))}}]),n}(_);Ce.id="Align",Ce.icon=Oe;var Se=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.name;return d.createElement(d.Fragment,null,d.createElement(ve,{type:"full",label:e}))}}]),n}(me),Ie=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("path",{d:"M36.5,20 L56.5,30 L36.5,40 L16.5,30 L36.5,20Z",stroke:"#fff",strokeWidth:"3",style:{fill:"rgba(255, 255, 255, 0.5)"}}),d.createElement("path",{d:"M36.5,20 L56.5,30 L36.5,40 L16.5,30 L36.5,20Z",stroke:"#fff",strokeWidth:"3",style:{fill:"rgba(255, 255, 255, 0.5)",transform:"translateY(10px)"}}),d.createElement("path",{d:"M36.5,20 L56.5,30 L36.5,40 L16.5,30 L36.5,20Z",fill:"#fff",stroke:"#fff",strokeWidth:"3",style:{transform:"translateY(20px)"}}))}}]),n}(C);Ie.id="Layer";var Me=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).title="Layers",e.renderFile=function(e){var t=e.name,n=e.fullId,r=e.scope,a=e.value;return d.createElement(Se,{name:t,fullId:n,scope:r,value:a})},e.onSelect=function(t){e.eventBus.requestTrigger("selectLayers",{selected:t})},e.onMove=function(t,n,r){var a=e.context,o=a.getViewport();a.moves(t.map((function(e,a){return{info:e.value,parentInfo:o.getInfo(n?n.fullId:"viewport"),prevInfo:0===a?o.getInfo(r?r.fullId:""):t[a-1].value}})))},e.checkMove=function(e){var t=e.value.jsx;return!Object(m.k)(t)&&(Object(b.L)(t)||Object(b.L)(t.type))},e.setSelectedTargets=function(){e.forceUpdate()},e}return Object(c.a)(n,[{key:"renderTab",value:function(){var e=this.context.getViewportInfos(),t=Object(m.f)(this.getSelectedTargets());return d.createElement(he,{scope:[],name:"",properties:e,multiselect:!0,isMove:!0,getId:function(e){return e.id},getFullId:function(e){return e},getName:function(e){return e.name},getChildren:function(e){return e.children||[]},selected:t,onSelect:this.onSelect,checkMove:this.checkMove,onMove:this.onMove,FileComponent:this.renderFile})}},{key:"componentDidMount",value:function(){this.addEvent("setSelectedTargets",this.setSelectedTargets)}}]),n}(_);Me.id="Layers",Me.icon=Ie;var Te=n(114).ChromePicker,Re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputAttributes={},e.state={color:"rgba(255, 255, 255, 255)"},e.onChange=function(t){var n=t.rgb,r=n.r,a=n.g,o=n.b,i=n.a;e.setState({color:"rgba(".concat(r,", ").concat(a,", ").concat(o,", ").concat(i,")")})},e.onChangeComplete=function(t){var n=t.rgb,r=n.r,a=n.g,o=n.b,i=n.a;e.props.onChange("rgba(".concat(r,", ").concat(a,", ").concat(o,", ").concat(i,")"))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state.color;return d.createElement(Te,{width:"180px",color:e,onChange:this.onChange,onChangeComplete:this.onChangeComplete})}},{key:"componentDidUpdate",value:function(){}},{key:"setValue",value:function(e){this.setState({color:e})}},{key:"getValue",value:function(){return this.state.color}}]),n}(Q),Le=Object(v.a)("div","\n.scena-color-input {\n    position: relative;\n}\n.scena-color-picker {\n    position: absolute;\n    top: 100%;\n    right: 0;\n    transform: translateY(10px) translateZ(1px);\n    z-index: 10;\n}\n\n.scena-color-background {\n    position: relative;\n    width: 30px;\n    height: 30px;\n    background: #4af;\n    border-radius: 5px;\n    display: inline-block;\n    vertical-align: top;\n    margin-right: 5px;\n}\n.scena-color-background+.scena-input {\n    display: inline-block;\n    vertical-align: top;\n    width: calc(100% - 40px);\n}\n\n"),De=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputAttributes={},e.colorInput=d.createRef(),e.textInput=d.createRef(),e.state={display:"none",color:"#fff"},e.onFocus=function(){e.setState({display:"block"})},e.onBlur=function(t){var n=t.nativeEvent.relatedTarget;e.getElement().contains(n)||e.setState({display:"none"})},e.onChange=function(t){e.props.onChange(t)},e.onDragStart=function(e){"INPUT"!==e.target.tagName&&e.preventDefault()},e.onClick=function(t){e.textInput.current.getElement().focus()},e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement(Le,{className:Object(m.n)("color-input"),ref:this.input,onBlur:this.onBlur},d.createElement("div",{className:Object(m.n)("color-background"),style:{backgroundColor:this.state.color},onClick:this.onClick}),d.createElement(ee,{ref:this.textInput,onChange:this.onChange,inputProps:{onFocus:this.onFocus}}),this.renderPicker())}},{key:"renderPicker",value:function(){var e=this.state.display;if("none"!==e)return d.createElement("div",{className:Object(m.n)("color-picker"),onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,style:{display:e}},d.createElement(Re,{ref:this.colorInput,onChange:this.onChange}))}},{key:"setValue",value:function(e){this.setState({color:e}),this.textInput.current.setValue(e),this.colorInput.current&&this.colorInput.current.setValue(e)}},{key:"getValue",value:function(){return this.textInput.current.getValue()}}]),n}(Q),ze=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 73 73"},d.createElement("ellipse",{fill:"#e77",cx:"36.5",cy:"26",rx:"17",ry:"17",strokeLinejoin:"round"}),d.createElement("ellipse",{fill:"#7e7",cx:"23",cy:"50",rx:"17",ry:"17",strokeLinejoin:"round"}),d.createElement("ellipse",{fill:"#77e",cx:"50",cy:"50",rx:"17",ry:"17",strokeLinejoin:"round"}))}}]),n}(C);ze.id="Colors";var Pe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).title="Colors",e.onChangeBackgroundColor=function(t){e.memory.set("background-color",t),e.context.setProperty(["background-color"],t)},e.onChangeTextColor=function(t){e.memory.set("color",t),e.context.setProperty(["color"],t)},e.onRender=function(){e.forceUpdate()},e}return Object(c.a)(n,[{key:"renderTab",value:function(){var e=this.getSelectedFrames(),t=this.memory.get("background-color"),n=this.memory.get("color");if(e.length){var r=e.map((function(e){return e.get("background-color")})),a=e.map((function(e){return e.get("color")}));t=r.filter((function(e){return e}))[0]||"transparent",n=a.filter((function(e){return e}))[0]||"#333"}return d.createElement("div",{className:Object(m.n)("current-tab")},d.createElement(re,{type:"full",label:"Background Color",input:De,value:t,updateValue:!0,onChange:this.onChangeBackgroundColor}),d.createElement(re,{type:"full",label:"Text Color",input:De,value:n,updateValue:!0,onChange:this.onChangeTextColor}))}},{key:"componentDidMount",value:function(){this.addEvent("render",this.onRender),this.addEvent("setSelectedTargets",this.onRender)}}]),n}(_);Pe.id="Colors",Pe.icon=ze;var Ve=Object(v.a)("select","\n{\n    position: relative;\n    appearance: none;\n    -webkit-appearance: none;\n    outline: none;\n    display: block;\n    width: 100%;\n    height: 30px;\n    padding: 5px;\n    background: transparent;\n    color: var(--mainColor);\n    font-weight: bold;\n    background: var(--back1);\n    border: 0;\n    box-sizing: border-box;\n    text-align: center;\n}\n\n"),Ae=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).inputAttributes={},e.onInput=function(t){var n=t.nativeEvent||t;Object(b.M)(n.data)&&e.props.onChange(e.getValue())},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.options||[];return d.createElement(Ve,Object.assign({ref:this.input,className:Object(m.n)("select")},this.inputAttributes,this.props.inputProps,{onInput:this.onInput}),e.map((function(e){return d.createElement("option",{key:e,value:e},e)})))}},{key:"getValue",value:function(){return this.getElement().value}},{key:"setValue",value:function(e){this.getElement().value="".concat(Object(b.M)(e)?"":e)}}]),n}(Q),Ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderIcon",value:function(){return d.createElement("svg",{viewBox:"0 0 80 80"},d.createElement("path",{d:"M64.286,17.81L20.714,17.81L20.714,29.56L29.214,23L39.262,23L39.262,55.476L27.77,61.262L27.77,62.071L57.23,62.071L57.23,61.262L45.738,55.476L45.738,23L55.786,23L64.286,29.56L64.286,17.81Z",style:{fill:"white"}}))}}]),n}(C);Ne.id="Font";var Be={options:["sans-serif"]},Fe={options:["left","center","right","justify"]},Ge={options:["normal","italic","blique"]},qe={options:["100","200","300","normal","500","600","bold","800"]},Ue={options:["none","underline","overline","line-through"]},He=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).title="Font",e.onChangeSize=function(t){e.changeProperty("font-size",t)},e.onChangeAlign=function(t){e.changeProperty("text-align",t)},e.onChangeFamily=function(t){e.changeProperty("font-family",t)},e.onChangeStyle=function(t){e.changeProperty("font-style",t)},e.onChangeWeight=function(t){e.changeProperty("font-weight",t)},e.onChangeDecoration=function(t){e.changeProperty("text-decoration",t)},e.onRender=function(){e.forceUpdate()},e.setTargets=function(){e.forceUpdate()},e}return Object(c.a)(n,[{key:"renderTab",value:function(){var e=this.moveableData.getProperties([["font-family"],["font-size"],["text-align"],["font-style"],["font-weight"],["text-decoration"]],["sans-serif","14px","left","normal","normal","none"]),t=Object(P.a)(e,6),n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],c=t[5];return d.createElement("div",{className:Object(m.n)("font-tab")},d.createElement(re,{type:"half",label:"family",input:Ae,props:Be,value:n,updateValue:!0,onChange:this.onChangeFamily}),d.createElement(re,{type:"half",label:"size",input:ee,value:r,updateValue:!0,onChange:this.onChangeSize}),d.createElement(re,{type:"half",label:"align",input:Ae,props:Fe,value:a,updateValue:!0,onChange:this.onChangeAlign}),d.createElement(re,{type:"half",label:"style",input:Ae,props:Ge,value:o,updateValue:!0,onChange:this.onChangeStyle}),d.createElement(re,{type:"half",label:"weight",input:Ae,props:qe,value:i,updateValue:!0,onChange:this.onChangeWeight}),d.createElement(re,{type:"half",label:"decoration",input:Ae,props:Ue,value:c,updateValue:!0,onChange:this.onChangeDecoration}))}},{key:"componentDidMount",value:function(){this.addEvent("render",this.onRender),this.addEvent("setSelectedTargets",this.setTargets)}},{key:"changeProperty",value:function(e,t){this.memory.set(e,t),this.context.setProperty([e],t,!0)}}]),n}(_);He.id="Font",He.icon=Ne;var We,Ke=Object(v.a)("div","\n{\n    position: absolute;\n    right: 0;\n    width: 40px;\n    height: 100%;\n    background: var(--back2);\n    z-index: 10;\n    transform: translateZ(10px);\n    box-sizing: border-box;\n    padding-top: 30px;\n    transition: width ease 0.2s;\n    text-align: left;\n}\n.scena-tab {\n    position: relative;\n    margin: 5px;\n}\n.scena-tab-icon {\n    position: relative;\n    position: relative;\n    color: #fff;\n    font-size: 11px;\n    font-weight: bold;\n    word-break: break-all;\n    padding: 5px;\n    width: 30px;\n    line-height: 20px;\n    height: 30px;\n    box-sizing: border-box;\n    border-radius: 3px;\n    text-align: left;\n    overflow: hidden;\n\n}\n.scena-tab-icon * {\n    pointer-events: none;\n}\n\n.scena-tab.scena-selected .scena-tab-icon {\n    background: var(--mainColor);\n}\n\n.scena-tab-popup {\n    position: absolute;\n    right: 100%;\n    top: 0;\n    transform: translate(-5px);\n    width: var(--tab);\n    padding: 0px 10px 10px;\n    background: var(--back2);\n    border-bottom: 1px solid var(--back1);\n    text-align: left;\n}\n\n.scena-tab-popup h2 {\n    margin: 0;\n    color: white;\n    font-weight: bold;\n    font-size: 14px;\n    padding: 8px 0px;\n}\n\n.scena-tab-line {\n    position: relative;\n    display: block;\n}\n\n"),Xe=[Pe,Ce,He,Me,ue,ke],Je=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).tabs=d.createRef(),e.state={selected:""},e.blur=function(){e.tabs.current.getElement().classList.remove("scena-over")},e.onClick=function(t){e.onMouseOver();var n=t.target,r=e.state.selected,a=n.getAttribute("data-target-id");e.setState({selected:r===a?"":a})},e.onMouseOver=function(){e.tabs.current.getElement().classList.add("scena-over")},e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement(Ke,{className:Object(m.n)("tabs"),ref:this.tabs,onMouseOver:this.onMouseOver,onMouseOut:this.blur},this.renderTabs())}},{key:"renderTabs",value:function(){var e=this,t=this.state.selected;return Xe.map((function(n){var r=n.id,a=r===t,o=n.icon;return d.createElement("div",{key:r,className:Object(m.n)("tab",a?"selected":"")},d.createElement("div",{"data-target-id":r,className:Object(m.n)("tab-icon"),onClick:e.onClick},o?d.createElement(o,null):d.createElement("span",null,r)),a&&d.createElement(n,null))}))}}]),n}(d.PureComponent),Ze=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).eventMap={},e}return Object(c.a)(n,[{key:"requestTrigger",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.eventMap;cancelAnimationFrame(r[e]||0),r[e]=requestAnimationFrame((function(){t.trigger(e,n)}))}}]),n}(n(15).a),Ye=function(){function e(){Object(i.a)(this,e),this.map=new Map}return Object(c.a)(e,[{key:"get",value:function(e){return this.map.get(e)}},{key:"set",value:function(e,t){return this.map.set(e,t)}},{key:"clear",value:function(){this.map.clear()}}]),e}(),_e=n(31),Qe=n(44),$e={name:"dimensionViewable",props:{dimensionViewable:Boolean},events:{},render:function(e){var t=e.props.zoom,n=e.getRect();return d.createElement("div",{key:"dimension-viewer",className:"moveable-dimension",style:{left:"".concat(n.width/2,"px"),top:"".concat(n.height,"px"),transform:"translate(-50%, ".concat(20*t,"px) scale(").concat(t,")")}},Math.round(n.offsetWidth)," x ",Math.round(n.offsetHeight))}},et={name:"deleteButtonViewable",props:{deleteButtonViewable:Boolean},events:{},render:function(e,t){var n=e.getRect(),r=e.state.pos2,a=e.useCSS("div",'\n        {\n            position: absolute;\n            left: 0px;\n            top: 0px;\n            will-change: transform;\n            transform-origin: 0px 0px;\n            width: 24px;\n            height: 24px;\n            background: #4af;\n            background: var(--moveable-color);\n            opacity: 0.9;\n            border-radius: 4px;\n        }\n        :host:before, :host:after {\n            content: "";\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%) rotate(45deg);\n            width: 16px;\n            height: 2px;\n            background: #fff;\n            border-radius: 1px;\n            cursor: pointer;\n        }\n        :host:after {\n            transform: translate(-50%, -50%) rotate(-45deg);\n        }\n        ');return t.createElement(y.d.Consumer,{key:"delete-button-viewer"},(function(e){return t.createElement(a,{className:"moveable-delete-button",onClick:function(){e.removeElements(e.getSelectedTargets())},style:{transform:"translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(n.rotation,"deg) translate(10px)")}})}))}};function tt(e,t,n,r,a){var o=a.viewport.current.getElement(e);if(!o)return console.error("No Element"),!1;var i=a.moveableData,c=i.getFrame(o);c.clear(),c.set(t),c.setOrderObject(r);var s=Object(Qe.b)(Object.keys(n),Object.keys(t)),l=s.removed,u=s.prevList;return l.forEach((function(e){o.style.removeProperty(u[e])})),i.render(o),!0}function nt(e,t){tt(e.id,e.prev,e.next,e.prevOrders,t)&&(t.moveableManager.current.updateRect(),t.eventBus.trigger("render"))}function rt(e,t){var n=e.id,r=e.prev;tt(n,e.next,r,e.nextOrders,t)&&(t.moveableManager.current.updateRect(),t.eventBus.trigger("render"))}function at(e,t){e.infos.forEach((function(e){tt(e.id,e.prev,e.next,e.prevOrders,t)})),t.moveableManager.current.updateRect(),t.eventBus.trigger("render")}function ot(e,t){e.infos.forEach((function(e){tt(e.id,e.next,e.prev,e.nextOrders,t)})),t.moveableManager.current.updateRect(),t.eventBus.trigger("render")}var it=w(We=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).moveable=d.createRef(),e}return Object(c.a)(n,[{key:"getMoveable",value:function(){return this.moveable.current}},{key:"render",value:function(){var e=this,t=this.props,n=t.verticalGuidelines,r=t.horizontalGuidelines,a=t.selectedTargets,o=t.selectedMenu,i=t.zoom;if(!a.length)return this.renderViewportMoveable();var c=this.moveableData,s=this.memory,l=[document.querySelector(".scena-viewport")].concat(Object(J.a)(c.getTargets())).filter((function(e){return-1===a.indexOf(e)})),u=this.keyManager.shiftKey;return d.createElement(_e.a,{ables:[$e,et],ref:this.moveable,targets:a,dimensionViewable:!0,deleteButtonViewable:!0,draggable:!0,resizable:!0,pinchable:["rotatable"],zoom:1/i,throttleResize:1,clippable:"Crop"===o,passDragArea:"Text"===o,checkInput:"Text"===o,throttleDragRotate:u?45:0,keepRatio:a.length>1||u,rotatable:!0,snappable:!0,snapCenter:!0,snapGap:!1,isDisplayInnerSnapDigit:!0,roundable:!0,verticalGuidelines:n,horizontalGuidelines:r,elementGuidelines:l,clipArea:!0,clipVerticalGuidelines:[0,"50%","100%"],clipHorizontalGuidelines:[0,"50%","100%"],clipTargetBounds:!0,onBeforeRenderStart:c.onBeforeRenderStart,onBeforeRenderGroupStart:c.onBeforeRenderGroupStart,onDragStart:c.onDragStart,onDrag:c.onDrag,onDragGroupStart:c.onDragGroupStart,onDragGroup:c.onDragGroup,onScaleStart:c.onScaleStart,onScale:c.onScale,onScaleGroupStart:c.onScaleGroupStart,onScaleGroup:c.onScaleGroup,onResizeStart:c.onResizeStart,onResize:c.onResize,onResizeGroupStart:c.onResizeGroupStart,onResizeGroup:c.onResizeGroup,onRotateStart:c.onRotateStart,onRotate:c.onRotate,onRotateGroupStart:c.onRotateGroupStart,onRotateGroup:c.onRotateGroup,defaultClipPath:s.get("crop")||"inset",onClip:c.onClip,onDragOriginStart:c.onDragOriginStart,onDragOrigin:function(e){c.onDragOrigin(e)},onRound:c.onRound,onClick:function(t){var n=t.inputTarget;if(t.isDouble&&n.isContentEditable){e.selectMenu("Text");var r=Object(m.d)(n);r&&r.focus()}else e.getSelecto().clickTarget(t.inputEvent,t.inputTarget)},onClickGroup:function(t){e.getSelecto().clickTarget(t.inputEvent,t.inputTarget)},onRenderStart:function(e){e.datas.prevData=c.getFrame(e.target).get()},onRender:function(t){t.datas.isRender=!0,e.eventBus.requestTrigger("render")},onRenderEnd:function(t){e.eventBus.requestTrigger("render"),t.datas.isRender&&e.historyManager.addAction("render",{id:Object(m.e)(t.target),prev:t.datas.prevData,next:c.getFrame(t.target).get()})},onRenderGroupStart:function(e){e.datas.prevDatas=e.targets.map((function(e){return c.getFrame(e).get()}))},onRenderGroup:function(t){e.eventBus.requestTrigger("renderGroup",t),t.datas.isRender=!0},onRenderGroupEnd:function(t){if(e.eventBus.requestTrigger("renderGroup",t),t.datas.isRender){var n=t.datas.prevDatas,r=t.targets.map((function(e,t){return{id:Object(m.e)(e),prev:n[t],next:c.getFrame(e).get()}}));e.historyManager.addAction("renders",{infos:r})}}})}},{key:"renderViewportMoveable",value:function(){var e=this.moveableData,t=this.getViewport(),n=t?t.viewportRef.current:null;return d.createElement(_e.a,{ref:this.moveable,target:n,origin:!1,onRotateStart:e.onRotateStart,onRotate:e.onRotate})}},{key:"componentDidMount",value:function(){var e=this;this.historyManager.registerType("render",nt,rt),this.historyManager.registerType("renders",at,ot),this.keyManager.keydown(["shift"],(function(){e.forceUpdate()})),this.keyManager.keyup(["shift"],(function(){e.forceUpdate()}))}},{key:"updateRect",value:function(){this.getMoveable().updateRect()}}]),n}(d.PureComponent))||We,ct=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,{createAuto:!0,useBeforeRender:!0})).memory=e,r.selectedTargets=[],r}return Object(c.a)(n,[{key:"setSelectedTargets",value:function(e){this.selectedTargets=e}},{key:"getSelectedTargets",value:function(){return this.selectedTargets}},{key:"getSelectedFrames",value:function(){var e=this;return this.getSelectedTargets().map((function(t){return e.getFrame(t)}))}},{key:"renderFrames",value:function(){var e=this;this.getSelectedTargets().forEach((function(t){e.render(t)}))}},{key:"setOrders",value:function(e,t){return this.setValue((function(n){n.setOrders(e,t)}))}},{key:"setProperty",value:function(e,t){return this.setValue((function(n){n.set.apply(n,Object(J.a)(e).concat([t]))}))}},{key:"removeProperties",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.setValue((function(e,n){t.forEach((function(t){e.remove(t),n.style.removeProperty(t)}))}))}},{key:"getProperties",value:function(e,t){var n=this.getSelectedFrames(),r=this.memory;return n.length?e.map((function(e,r){return n.map((function(t){return t.get.apply(t,Object(J.a)(e))})).filter((function(e){return e}))[0]||t[r]})):e.map((function(e,n){return r.get(e.join("///"))||t[n]}))}},{key:"setValue",value:function(e){var t=this,n=this.getSelectedTargets().map((function(n){var r=t.getFrame(n),a=r.getOrderObject(),o=r.get();e(r,n);var i=r.get(),c=r.getOrderObject();return{id:Object(m.e)(n),prev:o,prevOrders:a,next:i,nextOrders:c}}));return this.renderFrames(),n}}]),n}(n(119).a),st=function(){function e(t){Object(i.a)(this,e),this.editor=t,this.undoStack=[],this.redoStack=[],this.types={}}return Object(c.a)(e,[{key:"registerType",value:function(e,t,n){this.types[e]={undo:t,redo:n}}},{key:"addAction",value:function(e,t){this.editor.console.log("Add History:",e,t),this.undoStack.push({type:e,props:t}),this.redoStack=[]}},{key:"undo",value:function(){var e=this.undoStack.pop();e&&(this.editor.console.log("Undo History: ".concat(e.type),e.props),this.types[e.type].undo(e.props,this.editor),this.redoStack.push(e))}},{key:"redo",value:function(){var e=this.redoStack.pop();e&&(this.editor.console.log("Redo History: ".concat(e.type),e.props),this.types[e.type].redo(e.props,this.editor),this.undoStack.push(e))}}]),e}(),lt=function(){function e(t){Object(i.a)(this,e),this.isDebug=t}return Object(c.a)(e,[{key:"log",value:function(){var e;if(this.isDebug){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["%c Scena Debugger:","padding: 1px; background: #4af; color: #fff;"].concat(n))}}}]),e}(),ut=n(115),pt=n.n(ut),dt=function(){function e(t){var n=this;Object(i.a)(this,e),this.editor=t,this.onCut=function(e){n.onCopy(e)&&(n.editor.console.log("cut scena data"),n.editor.removeElements(n.editor.getSelectedTargets()))},this.onCopy=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(m.c)(t.target)){e.next=2;break}return e.abrupt("return",!1);case 2:return t.preventDefault(),r=t.clipboardData,o=n.editor.getSelectedTargets(),i=n.editor.saveTargets(o),n.editor.console.log("copy scena data",i),r.setData(y.f,JSON.stringify(i)),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onPaste=function(e){Object(m.c)(e.target)||(n.read(e.clipboardData),e.preventDefault())},document.addEventListener("cut",this.onCut),document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.onPaste)}return Object(c.a)(e,[{key:"destroy",value:function(){document.removeEventListener("cut",this.onCut),document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.onPaste)}},{key:"copy",value:function(){document.execCommand("copy")}},{key:"cut",value:function(){document.execCommand("cut")}},{key:"paste",value:function(){document.execCommand("paste")}},{key:"copyImage",value:function(){var e=this.editor.getSelectedTargets(),t=this.editor.getMoveable(),n=e.length,r=n>1?t.moveable.moveables:[];return new Promise((function(a){Promise.all(e.map((function(e){return pt()(e)}))).then((function(e){var o;if(n>1){var i=t.getRect(),c=document.createElement("canvas");c.width=i.width,c.height=i.height;var s=c.getContext("2d");r.map((function(e){return e.getRect()})).forEach((function(t,n){s.drawImage(e[n],t.left-i.left,t.top-i.top)})),o=c}else o=e[0];o.toBlob((function(e){navigator.clipboard.write([new window.ClipboardItem({"image/png":e})]),a()}))}))}))}},{key:"readDataTransfter",value:function(e){if(e.types.indexOf(y.f)>-1){var t=JSON.parse(e.getData(y.f));return this.editor.console.log("paste scena data",t),this.editor.loadDatas(t),!0}return!1}},{key:"read",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,i=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.readDataTransfter(t)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,navigator.clipboard.read();case 4:if(n=e.sent,r=!1,n.filter((function(e){var t=e.types,n=t.indexOf("image/png")>-1;return r=r||t.indexOf("text/plain")>-1,!!n&&(e.getType("image/png").then((function(e){i.editor.appendBlob(e)})),!0)})).length>0||!r){e.next=12;break}return e.next=10,navigator.clipboard.readText();case 10:o=e.sent,this.editor.appendJSXs([{jsx:d.createElement("div",{contentEditable:"true"}),name:"(Text)",innerText:o}]);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ft=n(34),ht=n(8),gt=Object(v.a)("div",y.b);function vt(e,t){var n=e.infos,r=e.prevSelected,a=t.removeByIds(n.map((function(e){return e.id})),!0);r&&a.then((function(){t.setSelectedTargets(t.getViewport().getElements(r),!0)}))}function mt(e,t){var n=e.infos;t.appendJSXs(n.map((function(e){return Object(p.a)({},e)})),!0)}function bt(e,t){var n=e.prevs;e.nexts;t.setSelectedTargets(t.viewport.current.getElements(n),!0)}function yt(e,t){e.prevs;var n=e.nexts;t.setSelectedTargets(t.viewport.current.getElements(n),!0)}function kt(e,t){var n=e.prev,r=(e.next,e.id),a=t.getViewport().getInfo(r);a.innerText=n,a.el.innerText=n}function xt(e,t){e.prev;var n=e.next,r=e.id,a=t.getViewport().getInfo(r);a.innerText=n,a.el.innerText=n}function Ot(e,t){var n=e.prevInfos;t.moves(n,!0)}function jt(e,t){var n=e.nextInfos;t.moves(n,!0)}var Et=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={selectedTargets:[],horizontalGuides:[],verticalGuides:[],zoom:1,selectedMenu:"MoveTool"},e.historyManager=new st(Object(s.a)(e)),e.console=new lt(e.props.debug),e.eventBus=new Ze,e.memory=new Ye,e.moveableData=new ct(e.memory),e.keyManager=new B(e.console),e.clipboardManager=new dt(Object(s.a)(e)),e.horizontalGuides=d.createRef(),e.verticalGuides=d.createRef(),e.infiniteViewer=d.createRef(),e.selecto=d.createRef(),e.menu=d.createRef(),e.moveableManager=d.createRef(),e.viewport=d.createRef(),e.tabs=d.createRef(),e.editorElement=d.createRef(),e.getSelecto=function(){return e.selecto.current},e.getViewport=function(){return e.viewport.current},e.getEditorElement=function(){return e.editorElement.current.getElement()},e.getMoveable=function(){return e.moveableManager.current.getMoveable()},e.getSelectedTargets=function(){return e.state.selectedTargets},e.getSelectedFrames=function(){return e.moveableData.getSelectedFrames()},e.selectMenu=function(t){e.menu.current.select(t)},e.onMenuChange=function(t){e.setState({selectedMenu:t})},e.onResize=function(){e.horizontalGuides.current.resize(),e.verticalGuides.current.resize()},e.onBlur=function(t){var n=t.target;if(Object(m.c)(n)){var r=Object(m.h)(n);if(r){var a=e.getViewport().getInfoByElement(r);if(a.attrs.contenteditable){var o=r.innerText;a.innerText!==o&&(e.historyManager.addAction("changeText",{id:a.id,prev:a.innerText,next:o}),a.innerText=o)}}}},e}return Object(c.a)(n,[{key:"render",value:function(){return d.createElement(y.d.Provider,{value:this},this.renderChildren())}},{key:"renderChildren",value:function(){var e=this,t=this.horizontalGuides,n=this.verticalGuides,r=this.infiniteViewer,a=this.moveableManager,o=this.viewport,i=this.menu,c=this.tabs,s=this.selecto,l=this.state,u=l.selectedMenu,p=l.selectedTargets,v=l.zoom,b=this.props,k=b.width,x=b.height,O=l.horizontalGuides,j=l.verticalGuides,E=50;return v<.8&&(E=50*Math.floor(1/v)),d.createElement(gt,{className:Object(m.n)("editor"),ref:this.editorElement},d.createElement(Je,{ref:c}),d.createElement(X,{ref:i,onSelect:this.onMenuChange}),d.createElement("div",{className:Object(m.n)("reset"),onClick:function(e){r.current.scrollCenter()}}),d.createElement(h.a,{ref:t,type:"horizontal",className:Object(m.n)("guides","horizontal"),style:{},snapThreshold:5,snaps:O,displayDragPos:!0,dragPosFormat:function(e){return"".concat(e,"px")},zoom:v,unit:E,onChangeGuides:function(t){e.setState({horizontalGuides:t.guides})}}),d.createElement(h.a,{ref:n,type:"vertical",className:Object(m.n)("guides","vertical"),style:{},snapThreshold:5,snaps:j,displayDragPos:!0,dragPosFormat:function(e){return"".concat(e,"px")},zoom:v,unit:E,onChangeGuides:function(t){e.setState({verticalGuides:t.guides})}}),d.createElement(f.a,{ref:r,className:Object(m.n)("viewer"),usePinch:!0,useForceWheel:!0,pinchThreshold:50,zoom:v,onDragStart:function(t){var n=t.inputEvent.target;e.checkBlur(),("A"===n.nodeName||a.current.getMoveable().isMoveableElement(n)||a.current.getMoveable().isDragging()||p.some((function(e){return e===n||e.contains(n)})))&&t.stop()},onDragEnd:function(e){e.isDrag||s.current.clickTarget(e.inputEvent)},onAbortPinch:function(e){s.current.triggerDragStart(e.inputEvent)},onScroll:function(e){t.current.scroll(e.scrollLeft),t.current.scrollGuides(e.scrollTop),n.current.scroll(e.scrollTop),n.current.scrollGuides(e.scrollLeft)},onPinch:function(t){a.current.getMoveable().isDragging()||e.setState({zoom:t.zoom})}},d.createElement(Y,{ref:o,onBlur:this.onBlur,style:{width:"".concat(k,"px"),height:"".concat(x,"px")}},d.createElement(it,{ref:a,selectedTargets:p,selectedMenu:u,verticalGuidelines:j,horizontalGuidelines:O,zoom:v}))),d.createElement(g.a,{ref:s,getElementRect:_e.b,dragContainer:".scena-viewer",hitRate:0,selectableTargets:[".scena-viewport [".concat(y.a,"]")],selectByClick:!0,selectFromInside:!1,toggleContinueSelect:["shift"],preventDefault:!0,scrollOptions:r.current?{container:r.current.getContainer(),threshold:30,throttleTime:30,getScrollPosition:function(){var e=r.current;return[e.getScrollLeft(),e.getScrollTop()]}}:void 0,onDragStart:function(t){var n=t.inputEvent,r=n.target;if(e.checkBlur(),"Text"===u&&r.isContentEditable){var o=Object(m.d)(r);o&&o.hasAttribute(y.a)&&(t.stop(),e.setSelectedTargets([o]))}("touchstart"===n.type&&t.isTrusted||a.current.getMoveable().isMoveableElement(r)||l.selectedTargets.some((function(e){return e===r||e.contains(r)})))&&t.stop()},onScroll:function(e){var t=e.direction;r.current.scrollBy(10*t[0],10*t[1])},onSelectEnd:function(t){var n=t.isDragStart,r=t.selected,o=t.inputEvent,i=t.rect;n&&o.preventDefault(),e.selectEndMaker(i)||e.setSelectedTargets(r).then((function(){n&&a.current.getMoveable().dragStart(o)}))}}))}},{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,r,o,i,c,s=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.infiniteViewer,n=this.memory,r=this.eventBus,n.set("background-color","#4af"),n.set("color","#333"),requestAnimationFrame((function(){s.verticalGuides.current.resize(),s.horizontalGuides.current.resize(),t.current.scrollCenter()})),window.addEventListener("resize",this.onResize),o=this.getViewport(),r.on("blur",(function(){s.menu.current.blur(),s.tabs.current.blur()})),r.on("selectLayers",(function(e){var t=e.selected;s.setSelectedTargets(t.map((function(e){return o.getInfo(e).el})))})),r.on("update",(function(){s.forceUpdate()})),this.keyManager.keydown(["left"],(function(e){s.move(-10,0),e.inputEvent.preventDefault()}),"Move Left"),this.keyManager.keydown(["up"],(function(e){s.move(0,-10),e.inputEvent.preventDefault()}),"Move Up"),this.keyManager.keydown(["right"],(function(e){s.move(10,0),e.inputEvent.preventDefault()}),"Move Right"),this.keyManager.keydown(["down"],(function(e){s.move(0,10),e.inputEvent.preventDefault()}),"Move Down"),this.keyManager.keyup(["backspace"],(function(){s.removeElements(s.getSelectedTargets())}),"Delete"),e.next=16,Object(ft.b)();case 16:i=e.sent,c="mac"===i.os.name||"ios"===i.os.name,this.keyManager.keydown([c?"meta":"ctrl","x"],(function(){}),"Cut"),this.keyManager.keydown([c?"meta":"ctrl","c"],(function(){}),"Copy"),this.keyManager.keydown([c?"meta":"ctrl","v"],(function(){}),"Paste"),this.keyManager.keydown([c?"meta":"ctrl","z"],(function(){s.historyManager.undo()}),"Undo"),this.keyManager.keydown([c?"meta":"ctrl","shift","z"],(function(){s.historyManager.redo()}),"Redo"),this.keyManager.keydown([c?"meta":"ctrl","a"],(function(e){s.setSelectedTargets(s.getViewportInfos().map((function(e){return e.el}))),e.inputEvent.preventDefault()}),"Select All"),this.keyManager.keydown([c?"meta":"ctrl","alt","g"],(function(e){e.inputEvent.preventDefault(),s.moveInside()}),"Move Inside"),this.keyManager.keydown([c?"meta":"ctrl","shift","alt","g"],(function(e){e.inputEvent.preventDefault(),s.moveOutside()}),"Move Outside"),this.historyManager.registerType("createElements",vt,mt),this.historyManager.registerType("removeElements",mt,vt),this.historyManager.registerType("selectTargets",bt,yt),this.historyManager.registerType("changeText",kt,xt),this.historyManager.registerType("move",Ot,jt);case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.eventBus.off(),this.memory.clear(),this.moveableData.clear(),this.keyManager.destroy(),this.clipboardManager.destroy(),window.removeEventListener("resize",this.onResize)}},{key:"promiseState",value:function(e){var t=this;return new Promise((function(n){t.setState(e,(function(){n()}))}))}},{key:"setSelectedTargets",value:function(e,t){var n=this;return e=e.filter((function(t){return e.every((function(e){return e===t||!e.contains(t)}))})),this.promiseState({selectedTargets:e}).then((function(){if(!t){var r=Object(m.f)(n.moveableData.getSelectedTargets()),a=Object(m.f)(e);r.length===a.length&&r.every((function(e,t){return a[t]===e}))||n.historyManager.addAction("selectTargets",{prevs:r,nexts:a})}return n.selecto.current.setSelectedTargets(e),n.moveableData.setSelectedTargets(e),n.eventBus.trigger("setSelectedTargets"),e}))}},{key:"appendJSX",value:function(e){return this.appendJSXs([e]).then((function(e){return e[0]}))}},{key:"appendJSXs",value:function(e,t){var n=this,r=this.getViewport(),a=r.getSortedIndexesList(this.getSelectedTargets()),o=a.length,i=-1,c="";if(!t&&o){var s=a[o-1];c=r.getInfoByIndexes(s).scopeId,i=s[s.length-1]+1}return this.console.log("append jsxs",e,i,c),this.getViewport().appendJSXs(e,i,c).then((function(e){var r=e.added;return n.appendComplete(r,t)}))}},{key:"removeByIds",value:function(e,t){return this.removeElements(this.getViewport().getElements(e),t)}},{key:"removeFrames",value:function(e){var t={},n=this.moveableData,r=this.getViewport();return e.forEach((function e(a){var o=r.getInfoByElement(a),i=n.getFrame(a);t[o.id]={frame:i.get(),frameOrder:i.getOrderObject()},n.removeFrame(a),o.children.forEach((function(t){e(t.el)}))})),t}},{key:"restoreFrames",value:function(e,t){var n=this.getViewport(),r=this.moveableData;for(var a in e.map((function(e){return e.info})).forEach((function e(n){n.frame=t[n.id].frame,n.frameOrder=t[n.id].order,delete t[n.id],n.children.forEach(e)})),t)r.createFrame(n.getInfo(a).el,t[a])}},{key:"removeElements",value:function(e,t){var n=this,r=this.getViewport(),a=this.removeFrames(e),o=r.getSortedIndexesList(e),i=o.length,c="",s=null;if(i){var l=r.getInfoByIndexes(o[i-1]),u=r.getNextInfo(l.id);c=l.scopeId,s=u}return r.removeTargets(e).then((function(o){var i=o.removed,l=s||r.getLastChildInfo(c)||r.getInfo(c);return n.setSelectedTargets(l&&l.el?[l.el]:[],!0),n.console.log("removeTargets",i),!t&&n.historyManager.addAction("removeElements",{infos:i.map((function e(t){return Object(p.a)(Object(p.a)({},t),{},{children:t.children.map(e)},a[t.id]||{})}))}),e}))}},{key:"setProperty",value:function(e,t,n){var r=this.moveableData.setProperty(e,t);this.historyManager.addAction("renders",{infos:r}),n&&this.moveableManager.current.updateRect(),this.eventBus.requestTrigger("render")}},{key:"setOrders",value:function(e,t,n){var r=this.moveableData.setOrders(e,t);this.historyManager.addAction("renders",{infos:r}),n&&this.moveableManager.current.updateRect(),this.eventBus.requestTrigger("render")}},{key:"loadDatas",value:function(e){var t=this.getViewport();return this.appendJSXs(e.map((function e(n){var r,a=n.componentId,o=n.jsxId,i=n.children;if(o&&(r=t.getJSX(o)),!r&&a){var c=t.getComponent(a);r=d.createElement(c,null)}return r||(r=d.createElement(n.tagName)),Object(p.a)(Object(p.a)({},n),{},{children:i.map(e),jsx:r})})).filter((function(e){return e})))}},{key:"saveTargets",value:function(e){var t=this.getViewport(),n=this.moveableData;return this.console.log("save targets",e),e.map((function(e){return t.getInfoByElement(e)})).map((function e(t){var r=t.el,a=t.attrs.contenteditable;return{name:t.name,attrs:Object(m.i)(r),jsxId:t.jsxId||"",componentId:t.componentId,innerHTML:a?"":r.innerHTML,innerText:a?r.innerText:"",tagName:r.tagName.toLowerCase(),frame:n.getFrame(r).get(),children:t.children.map(e)}}))}},{key:"getViewportInfos",value:function(){return this.getViewport().getViewportInfos()}},{key:"appendBlob",value:function(e){var t=URL.createObjectURL(e);return this.appendJSX({jsx:d.createElement("img",{src:t,alt:"appended blob"}),name:"(Image)"})}},{key:"moves",value:function(e,t){var n=this,r=this.removeFrames(e.map((function(e){return e.info.el})));return this.getViewport().moves(e).then((function(e){return n.moveComplete(e,r,t)}))}},{key:"selectEndMaker",value:function(e){var t=this.state.zoom,n=this.infiniteViewer.current,r=this.menu.current.getSelected(),a=e.width,o=e.height;if(!r||!r.maker||!a||!o)return!1;var i=r.maker(this.memory),c=-n.getScrollTop()*t+30,s=-n.getScrollLeft()*t+75,l=e.top-c,u=e.left-s,d=Object(p.a)({top:"".concat(l/t,"px"),left:"".concat(u/t,"px"),position:"absolute",width:"".concat(a/t,"px"),height:"".concat(o/t,"px")},i.style);return this.appendJSX({jsx:i.tag,attrs:i.attrs,name:"(".concat(r.id,")"),frame:d}).then(r.makeThen),!0}},{key:"move",value:function(e,t){this.getMoveable().request("draggable",{deltaX:e,deltaY:t},!0)}},{key:"checkBlur",value:function(){var e=document.activeElement;e&&e.blur();var t=document.getSelection();t&&t.removeAllRanges(),this.eventBus.trigger("blur")}},{key:"moveInside",value:function(){var e=this,t=this.getSelectedTargets();if(1===t.length){t=[t[0]];var n=this.getViewport(),r=this.removeFrames(t);return n.moveInside(t[0]).then((function(t){return e.moveComplete(t,r)}))}}},{key:"moveOutside",value:function(){var e=this,t=this.getSelectedTargets();if(1===t.length){t=[t[0]];var n=this.removeFrames(t);this.getViewport().moveOutside(t[0]).then((function(t){return e.moveComplete(t,n)}))}}},{key:"appendComplete",value:function(e,t){var n=this;!t&&this.historyManager.addAction("createElements",{infos:e,prevSelected:Object(m.f)(this.getSelectedTargets())});var r=this.moveableData,a=this.getViewport().viewportRef.current,o=e.map((function e(t){var n=r.createFrame(t.el,t.frame);return t.frameOrder&&n.setOrderObject(t.frameOrder),r.render(t.el),t.children.forEach(e),t.el})).filter((function(e){return e}));return e.forEach((function(e){if(e.moveMatrix){var t=r.getFrame(e.el),n=Object(m.g)(e.el,a);n=Object(ht.c)(n,4);var o=Object(ht.d)(n,e.moveMatrix);Object(m.o)(t,o),r.render(e.el)}})),Promise.all(o.map((function(e){return Object(m.b)(e)}))).then((function(){return n.setSelectedTargets(o,!0),o}))}},{key:"moveComplete",value:function(e,t,n){this.console.log("Move",e);var r=e.prevInfos,a=e.nextInfos;return this.restoreFrames(a,t),a.length&&(n||this.historyManager.addAction("move",{prevInfos:r,nextInfos:a}),this.appendComplete(a.map((function(e){var t=e.info,n=e.moveMatrix;return Object(p.a)(Object(p.a)({},t),{},{moveMatrix:n})})),!0)),e}}]),n}(d.PureComponent);Et.defaultProps={width:400,height:600}},120:function(e,t,n){e.exports=n(294)},125:function(e,t,n){},126:function(e,t,n){},2:function(e,t,n){"use strict";n.d(t,"n",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"k",(function(){return k})),n.d(t,"j",(function(){return x})),n.d(t,"l",(function(){return O})),n.d(t,"o",(function(){return j})),n.d(t,"g",(function(){return E})),n.d(t,"p",(function(){return w}));var r=n(14),a=n(13),o=n(10),i=n(11),c=n(0),s=n(31),l=n(8);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.b.apply(void 0,[i.e].concat(t))}function p(e){return"inherit"===e.contentEditable?p(e.parentElement):"true"===e.contentEditable?e:null}function d(e,t,n){return Math.min(Math.max(t,e),n)}function f(e){return e.getAttribute(i.a)}function h(e){return e.map((function(e){return f(e)}))}function g(e){var t=e.tagName.toLowerCase();return e.isContentEditable||"input"===t||"textarea"===t}function v(e){return"img"!==e.tagName.toLowerCase()?Promise.all([].slice.call(e.querySelectorAll("img")).map((function(e){return v(e)}))):new Promise((function(t){e.complete?t():e.addEventListener("load",(function n(){t(),e.removeEventListener("load",n)}))}))}function m(e){return e?e.hasAttribute(i.a)?e:m(e.parentElement):null}function b(e,t){return t.scenaComponentId=e,t}function y(e){for(var t=e.attributes,n=t.length,r={},a=0;a<n;++a){var o=t[a],c=o.name,s=o.value;c!==i.a&&"style"!==c&&(r[c]=s)}return r}function k(e){return Object(c.I)(e)&&"scenaComponentId"in e}function x(e){return Object(c.K)(e)&&!k(e)}function O(e){return x(e)&&Object(c.I)(e.type)}function j(e,t){var n=Object(a.a)(e.getOrders(["transform"])||[]);if("".concat(n[0]).indexOf("matrix3d")>-1){var r=e.get("transform",n[0]),o=Object(c.H)(r)?r:Object(c.T)(r).map((function(e){return parseFloat(e)}));e.set("transform",n[0],Object(l.d)(t,o))}else if(e.has("transform","matrix3d")){for(var i=1;e.has("transform","matrix3d".concat(++i)););e.set("transform","matrix3d".concat(i),Object(a.a)(t)),e.setOrders(["transform"],["matrix3d".concat(i)].concat(Object(a.a)(n)))}else e.set("transform","matrix3d",Object(a.a)(t)),e.setOrders(["transform"],["matrix3d"].concat(Object(a.a)(n)))}function E(e,t){var n=Object(s.b)(e,t),r=n.targetOrigin,a=Object(l.b)([r[0],r[1],r[2]||0],4);return Object(l.d)(n.offsetMatrix,a)}function w(e){return e.map((function e(t){var n=t.id,a=document.querySelector("[".concat(i.a,'="').concat(n,'"]')),o=t.attrs||{};for(var c in t.el=a,o)a.setAttribute(c,o[c]);t.attrs=y(a);var s=t.children||[];return s.length?s.forEach(e):t.attrs.contenteditable?"innerText"in t?a.innerText=t.innerText||"":t.innerText=a.innerText||"":t.componentId||("innerHTML"in t?a.innerHTML=t.innerHTML||"":t.innerHTML=a.innerHTML||""),Object(r.a)({},t)}))}},294:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(55),i=n.n(o),c=(n(125),n(3)),s=n(4),l=n(6),u=n(5),p=(n(126),n(76)),d=Object(p.makeScenaFunctionComponent)("Badge",(function(e){return r.createElement("p",{className:"badges","data-scena-element-id":e.scenaElementId},r.createElement("a",{href:"https://www.npmjs.com/package/moveable",target:"_blank"},r.createElement("img",{src:"https://img.shields.io/npm/v/moveable.svg?style=flat-square&color=007acc&label=version",alt:"npm version"})),r.createElement("a",{href:"https://github.com/daybrush/moveable",target:"_blank"},r.createElement("img",{src:"https://img.shields.io/github/stars/daybrush/moveable.svg?color=42b883&style=flat-square"})),r.createElement("a",{href:"https://github.com/daybrush/moveable",target:"_blank"},r.createElement("img",{src:"https://img.shields.io/badge/language-typescript-blue.svg?style=flat-square"})),r.createElement("br",null),r.createElement("a",{href:"https://github.com/daybrush/moveable/tree/master/packages/react-moveable",target:"_blank"},r.createElement("img",{alt:"React",src:"https://img.shields.io/static/v1.svg?label=&message=React&style=flat-square&color=61daeb"})),r.createElement("a",{href:"https://github.com/daybrush/moveable/tree/master/packages/preact-moveable",target:"_blank"},r.createElement("img",{alt:"Preact",src:"https://img.shields.io/static/v1.svg?label=&message=Preact&style=flat-square&color=673ab8"})),r.createElement("a",{href:"https://github.com/daybrush/moveable/tree/master/packages/ngx-moveable",target:"_blank"},r.createElement("img",{alt:"Angular",src:"https://img.shields.io/static/v1.svg?label=&message=Angular&style=flat-square&color=C82B38"})),r.createElement("a",{href:"https://github.com/probil/vue-moveable",target:"_blank"},r.createElement("img",{alt:"Vue",src:"https://img.shields.io/static/v1.svg?label=&message=Vue&style=flat-square&color=3fb984"})),r.createElement("a",{href:"https://github.com/daybrush/moveable/tree/master/packages/svelte-moveable",target:"_blank"},r.createElement("img",{alt:"Svelte",src:"https://img.shields.io/static/v1.svg?label=&message=Svelte&style=flat-square&color=C82B38"})))})),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).editor=r.createRef(),e}return Object(s.a)(n,[{key:"render",value:function(){return r.createElement("div",{className:"app"},r.createElement(p.default,{ref:this.editor,debug:!1}),r.createElement("div",{className:"bottom"},r.createElement("a",{href:"https://github.com/daybrush/moveable",target:"_blank"},"Download"),r.createElement("a",{href:"https://daybrush.com/moveable/release/latest/doc",target:"_blank"},"API"),r.createElement("a",{href:"https://daybrush.com/moveable/storybook",target:"_blank"},"Storybook")))}},{key:"componentDidMount",value:function(){var e=this;this.editor.current.appendJSXs([{jsx:r.createElement("div",{className:"moveable",contentEditable:"true",suppressContentEditableWarning:!0},"Moveable"),name:"(Logo)",frame:{position:"absolute",left:"50%",top:"30%",width:"250px",height:"200px","font-size":"40px",transform:"translate(-125px, -100px)",display:"flex","justify-content":"center","flex-direction":"column","text-align":"center","font-weight":100}},{jsx:r.createElement(d,null),name:"(Badges)",frame:{position:"absolute",left:"0%",top:"50%",width:"100%","text-align":"center"}},{jsx:r.createElement("div",{className:"moveable",contentEditable:"true",suppressContentEditableWarning:!0},"Moveable is Draggable! Resizable! Scalable! Rotatable! Warpable! Pinchable"),name:"(Description)",frame:{position:"absolute",left:"0%",top:"65%",width:"100%","font-size":"14px","text-align":"center","font-weight":"normal"}}],!0).then((function(t){e.editor.current.setSelectedTargets([t[0]],!0)}))}}]),n}(r.Component);i.a.render(a.a.createElement(f,null),document.getElementById("root"))},76:function(e,t,n){"use strict";var r=n(116),a=n(2);n.d(t,"makeScenaFunctionComponent",(function(){return a.m}));n(113);t.default=r.a}},[[120,1,2]]]);
//# sourceMappingURL=main.4efc5ba5.chunk.js.map